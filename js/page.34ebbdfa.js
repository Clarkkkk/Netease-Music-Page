(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page"],{"0027":function(t,e,s){"use strict";s.d(e,"a",(function(){return a})),s.d(e,"b",(function(){return n}));var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"loading-spinner"}},[s("div",{staticClass:"spinner-icon"},[s("div",{staticClass:"bar bar-one"}),s("div",{staticClass:"bar bar-two"}),s("div",{staticClass:"bar bar-three"}),s("div",{staticClass:"bar bar-four"}),s("div",{staticClass:"bar bar-five"}),s("div",{staticClass:"bar bar-six"}),s("div",{staticClass:"bar bar-seven"}),s("div",{staticClass:"bar bar-eight"}),s("div",{staticClass:"bar bar-nine"}),s("div",{staticClass:"bar bar-ten"}),s("div",{staticClass:"bar bar-eleven"}),s("div",{staticClass:"bar bar-twelve"})])])}]},"025b":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"wrapper",attrs:{id:"profile"}},[s("img",{ref:"bg",staticClass:"background fade-in",attrs:{src:t.bgSrc}}),s("div",{staticClass:"fixed-container"},[s("div",{ref:"card",staticClass:"card"},[s("img",{ref:"avatar",staticClass:"avatar fade-in",attrs:{src:t.avtSrc}}),s("span",{ref:"nickname",staticClass:"nickname"},[t._v(t._s(t.nickname))]),s("span",{ref:"level",staticClass:"level"},[t._v(t._s("LV. "+t.level))]),s("div",{ref:"logout",staticClass:"logout",on:{tap:t.logout}},[s("app-icon",{attrs:{icon:"log-out"}}),s("span",[t._v("登出")])],1)])]),s("div",{staticClass:"content"},[s("div",{staticClass:"placeholder"}),s("div",{staticClass:"features"},[s("div",{staticClass:"feature-container",on:{tap:function(e){return t.routeTo("rank")}}},[s("app-icon",{attrs:{icon:"bar-chart"}}),s("span",[t._v("听歌排行")])],1),s("div",{staticClass:"feature-container",on:{tap:function(e){return t.routeTo("favorite")}}},[s("div",{staticClass:"icon-container"},[s("app-icon",{attrs:{icon:"like-fill"}})],1),s("span",[t._v("我喜欢的音乐")])])]),s("div",{staticClass:"lists-container"},[s("nav",{staticClass:"nav"},[s("span",{class:{active:"createdLists"===t.listsType},on:{tap:function(e){return t.navTo("createdLists")}}},[t._v(" 创建歌单 ")]),s("span",{class:{active:"savedLists"===t.listsType},on:{tap:function(e){return t.navTo("savedLists")}}},[t._v(" 收藏歌单 ")])]),s("keep-alive",[s("profile-song-lists",{key:t.listsType,attrs:{lists:t.lists,type:t.listsType,loading:t.loading}})],1)],1)])])},n=[],r=(s("5319"),s("ddb0"),s("d1c7")),i=s("424d"),o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"profile-song-lists"}},[s("div",{staticClass:"title"},[t._v(t._s(t.titleString))]),t.loading?s("app-loading-icon"):t._e(),t._l(t.lists,(function(e){return s("div",{key:e.id,staticClass:"list",on:{tap:function(s){return t.tap(e.id)}}},[s("img",{staticClass:"fade-in",attrs:{src:e.coverImgUrl.replace("http:","https:")}}),s("span",{staticClass:"list-name"},[t._v(t._s(e.name))]),s("span",{staticClass:"list-info"},[t._v(t._s(e.trackCount+"首"))])])}))],2)},c=[],l=s("f79c"),u={props:["lists","type","loading"],components:{AppLoadingIcon:l["default"]},computed:{titleString:function(){return"createdLists"===this.type?"创建歌单":"收藏歌单"}},methods:{tap(t){this.$router.push({name:"account-songlist",params:{listId:t}})}}},h=u,d=(s("9b39"),s("2877")),f=Object(d["a"])(h,o,c,!1,null,"35414fd4",null),p=f.exports,v={name:"profile",data:function(){return{nickname:"",level:"",listenSongs:"",avtSrc:s("987d"),bgSrc:s("987d"),favoriteList:[],createdLists:[],savedLists:[],listsType:"createdLists",loading:!0}},computed:{lists:function(){return this[this.listsType]},userID:function(){return this.$store.state.auth.userID}},components:{ProfileSongLists:p},created(){Object(r["a"])("/user/detail",{uid:this.userID}).then(t=>{this.nickname=t.profile.nickname,this.level=t.level,this.listenSongs=t.listenSongs,this.avtSrc=t.profile.avatarUrl.replace("http:","https:"),this.bgSrc=t.profile.backgroundUrl.replace("http:","https:")}),Promise.all([Object(r["a"])("/user/playlist",{uid:this.userID}),Object(r["a"])("/user/subcount")]).then(t=>{if(200===t[0].code&&(this.allList=t[0].playlist),200===t[1].code){const e=t[1].createdPlaylistCount;this.favoriteList=this.allList[0],this.createdLists=this.allList.slice(1,e),this.savedLists=this.allList.slice(e,this.allList.length)}this.loading=!1})},mounted(){this.$nextTick().then(()=>{this.scroll=Object(i["a"])(2,this.$refs.wrapper,e);const t=this;function e(e){if(e.y>0)t.$refs.bg.style=`height: calc(15rem + env(safe-area-inset-top) + ${e.y}px)`;else{const s=-e.y/210<1?-e.y/210:1,a=s;t.$refs.bg.style=`height: calc(${15-12*s}rem + env(safe-area-inset-top));`,t.$refs.card.style=`background-color: rgba(var(--app-color-rgb), ${a});\n              height: calc(${15-12*s}rem + env(safe-area-inset-top));`,t.$refs.avatar.style=`height: ${5.4-3.2*s}rem;\n              transform: translateY(${3.5*-s}rem)`,t.$refs.nickname.style=`transform: translateX(${3*s}rem)\n                translateY(${9*-s}rem)`,t.$refs.level.style=t.$refs.logout.style=`opacity: ${1-s};\n              transform: translateY(${6.5*-s}rem)`}}})},updated(){this.scroll.refresh()},deactivated(){this.scroll.disable()},activated(){this.scroll&&this.scroll.enable()},beforeDestroy(){this.scroll.destroy()},methods:{navTo(t){console.log(t),this.listsType=t},routeTo(t){"favorite"===t?this.$router.push({name:"account-favorite",params:{listId:this.favoriteList.id}}):"rank"===t&&this.$router.push({name:"account-rank"})},logout(){window.confirm("你想退出登录吗？")&&this.$store.dispatch("logout").then(()=>{this.$router.replace({name:"login",params:{dock:!0}})})}}},m=v,g=(s("9218"),Object(d["a"])(m,a,n,!1,null,"b4b04782",null));e["default"]=g.exports},1246:function(t,e,s){"use strict";var a=s("f08b"),n=s.n(a);n.a},1316:function(t,e,s){"use strict";var a=s("c8e7"),n=s.n(a);n.a},"1c92":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"login"}},[s("nav",{staticClass:"nav"},[s("div",{class:["method",{active:"phone"===t.loginMethod}],on:{click:function(e){t.loginMethod="phone"}}},[t._v("手机登录")]),s("div",{class:["method",{active:"email"===t.loginMethod}],on:{click:function(e){t.loginMethod="email"}}},[t._v("邮箱登录")])]),s("div",{staticClass:"shadow"}),s("keep-alive",[s("login-by",{key:t.loginMethod,tag:"component",staticClass:"login-body",attrs:{method:t.loginMethod}})],1)],1)},n=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("form",{ref:"form",attrs:{id:"account-by"}},["phone"===t.method?s("label",{staticClass:"label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],staticClass:"input",attrs:{type:"tel",placeholder:"手机号"},domProps:{value:t.phoneNumber},on:{blur:function(t){t.target.pattern="[0-9]{11}"},input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}}),s("span",{staticClass:"notice"},[t._v("请输入有效的手机号码")])]):"email"===t.method?s("label",{staticClass:"label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.mailAddress,expression:"mailAddress"}],staticClass:"input",attrs:{type:"email",placeholder:"邮箱",list:"suggestions"},domProps:{value:t.mailAddress},on:{blur:function(t){t.target.required=!0},input:function(e){e.target.composing||(t.mailAddress=e.target.value)}}}),s("span",{staticClass:"notice"},[t._v("请输入有效的邮箱地址")]),s("datalist",{attrs:{id:"suggestions"}},t._l(t.domains,(function(e){return s("option",{key:e,domProps:{value:t.mailAddress+"@"+e}})})),0)]):t._e(),s("label",{staticClass:"label"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{blur:function(t){t.target.required=!0},focus:function(t){t.target.value=""},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("span",{staticClass:"notice"},[t._v("密码不能为空")])]),s("input",{staticClass:"submit",attrs:{type:"button",value:"登 录"},on:{click:t.login}})])},i=[],o=(s("5319"),s("d1c7")),c=s("69a0"),l=s.n(c),u={data:function(){return{phoneNumber:"",mailAddress:"",password:"",domains:["163.com","126.com","yeah.net","vip.163.com","vip.126.com","188.com"]}},props:["method"],methods:{login(){if(!this.$refs.form.reportValidity())return;let t,e;switch(this.method){case"phone":e="/login/cellphone",t={phone:this.phoneNumber,md5_password:l.a.hash(this.password)};break;case"email":e="/login",t={email:this.mailAddress,md5_password:l.a.hash(this.password)};break}Object(o["a"])(e,t).then(t=>{console.log(t),200===t.code?(this.$store.commit("auth/login",t),this.$router.replace("/account")):alert(t.message)})}}},h=u,d=(s("535f"),s("2877")),f=Object(d["a"])(h,r,i,!1,null,"46d3b266",null),p=f.exports,v={name:"login",data:function(){return{loginMethod:"phone"}},components:{LoginBy:p}},m=v,g=(s("f7ea"),Object(d["a"])(m,a,n,!1,null,"39c1abe3",null));e["default"]=g.exports},"3f1c":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"discover-search-result"}},[t.loading?s("div",{staticClass:"loading"},[s("app-loading-icon")],1):s("div",{staticClass:"content"},[s("div",{staticClass:"multimatch"},[s("span",[t._v("你可能感兴趣")]),t._l(t.matchResult,(function(e){return s("div",{key:e.id,staticClass:"multimatch-item"},[s("img",{attrs:{src:e.picUrl,alt:"封面图片"}}),s("span",[t._v(t._s(e.type+"："+e.name))]),e.artist?s("span",[t._v(t._s(e.artist.name))]):t._e()])}))],2),s("div",{staticClass:"mixed"},[s("span",[t._v("单曲")]),t._l(t.mixedResult,(function(t){return s("app-song-entry",{key:t.id,attrs:{"song-name":t.name,"song-artist":t.artist,"song-album":t.album,"song-id":t.id,"song-cover":t.cover}})})),s("span",[t._v(t._s(t.mixedResult.moreText))])],2)])])},n=[],r=(s("ddb0"),s("d1c7")),i=s("c4de"),o=s("f79c"),c={props:["searchText"],data:function(){return{loading:!0,songResult:[],matchResult:[],mixedResult:[]}},components:{AppSongEntry:i["a"],AppLoadingIcon:o["default"]},created:function(){Object(r["a"])("/search/multimatch",{keywords:this.searchText}).then(t=>{console.log(t);const e=t.result.orders;if(e)for(const s of e)this.matchResult=this.matchResult.concat(t.result[s])}),Object(r["a"])("/search",{keywords:this.searchText,type:"1018"}).then(t=>{console.log(t),this.mixedResult=t.result.song.songs.map(t=>{const e=t.ar.map(t=>t.name).join("/");return{id:t.id,name:t.name,artist:e,album:t.al.name,cover:t.al.picUrl}}),this.loading=!1})},methods:{arString(t){return console.log(t.join("/")),t.join("/")}}},l=c,u=(s("b3a8"),s("2877")),h=Object(u["a"])(l,a,n,!1,null,"610083cd",null);e["default"]=h.exports},"472a":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[s("app-search-bar",{staticClass:"header",attrs:{focus:!t.isResult},on:{focus:t.onFocus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},scopedSlots:t._u([t.isResult?{key:"left",fn:function(){return[s("app-back-button")]},proxy:!0}:null,t.isResult?null:{key:"right",fn:function(){return[s("input",{staticClass:"cancel",attrs:{type:"button",value:"取消"},on:{click:t.searchCancel}})]},proxy:!0}],null,!0),model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),s("keep-alive",{attrs:{include:"discover-search-default"}},[s("router-view",{attrs:{searchText:t.searchText},on:{"update:searchText":function(e){t.searchText=e},"update:search-text":function(e){t.searchText=e}}})],1)],1)},n=[],r=s("6fc7"),i=s("7223"),o={name:"search",data:function(){return{loading:!1,searchText:""}},components:{AppSearchBar:r["a"],AppBackButton:i["a"]},computed:{isResult(){return"discover-search-result"===this.$route.name}},watch:{searchText(t){console.log("searchText changed")}},methods:{onFocus(){this.isResult&&this.$router.push({name:"discover-search"})},searchCancel(){this.$router.push({name:"discover",params:{back:!0}})},search(t){t.target.blur(),this.$router.push("/search/result/"+this.searchText)}}},c=o,l=(s("9813"),s("2877")),u=Object(l["a"])(c,a,n,!1,null,"1bde63f3",null);e["default"]=u.exports},5175:function(t,e,s){"use strict";var a=s("bbd5"),n=s.n(a);n.a},"535f":function(t,e,s){"use strict";var a=s("62a4"),n=s.n(a);n.a},"5b38":function(t,e,s){"use strict";var a=s("6232"),n=s.n(a);e["default"]=n.a},6232:function(t,e){},"62a4":function(t,e,s){},"63f5":function(t,e,s){},"69a0":function(t,e,s){(function(e){t.exports=e()})((function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(t,e){var s=t[0],a=t[1],n=t[2],r=t[3];s+=(a&n|~a&r)+e[0]-680876936|0,s=(s<<7|s>>>25)+a|0,r+=(s&a|~s&n)+e[1]-389564586|0,r=(r<<12|r>>>20)+s|0,n+=(r&s|~r&a)+e[2]+606105819|0,n=(n<<17|n>>>15)+r|0,a+=(n&r|~n&s)+e[3]-1044525330|0,a=(a<<22|a>>>10)+n|0,s+=(a&n|~a&r)+e[4]-176418897|0,s=(s<<7|s>>>25)+a|0,r+=(s&a|~s&n)+e[5]+1200080426|0,r=(r<<12|r>>>20)+s|0,n+=(r&s|~r&a)+e[6]-1473231341|0,n=(n<<17|n>>>15)+r|0,a+=(n&r|~n&s)+e[7]-45705983|0,a=(a<<22|a>>>10)+n|0,s+=(a&n|~a&r)+e[8]+1770035416|0,s=(s<<7|s>>>25)+a|0,r+=(s&a|~s&n)+e[9]-1958414417|0,r=(r<<12|r>>>20)+s|0,n+=(r&s|~r&a)+e[10]-42063|0,n=(n<<17|n>>>15)+r|0,a+=(n&r|~n&s)+e[11]-1990404162|0,a=(a<<22|a>>>10)+n|0,s+=(a&n|~a&r)+e[12]+1804603682|0,s=(s<<7|s>>>25)+a|0,r+=(s&a|~s&n)+e[13]-40341101|0,r=(r<<12|r>>>20)+s|0,n+=(r&s|~r&a)+e[14]-1502002290|0,n=(n<<17|n>>>15)+r|0,a+=(n&r|~n&s)+e[15]+1236535329|0,a=(a<<22|a>>>10)+n|0,s+=(a&r|n&~r)+e[1]-165796510|0,s=(s<<5|s>>>27)+a|0,r+=(s&n|a&~n)+e[6]-1069501632|0,r=(r<<9|r>>>23)+s|0,n+=(r&a|s&~a)+e[11]+643717713|0,n=(n<<14|n>>>18)+r|0,a+=(n&s|r&~s)+e[0]-373897302|0,a=(a<<20|a>>>12)+n|0,s+=(a&r|n&~r)+e[5]-701558691|0,s=(s<<5|s>>>27)+a|0,r+=(s&n|a&~n)+e[10]+38016083|0,r=(r<<9|r>>>23)+s|0,n+=(r&a|s&~a)+e[15]-660478335|0,n=(n<<14|n>>>18)+r|0,a+=(n&s|r&~s)+e[4]-405537848|0,a=(a<<20|a>>>12)+n|0,s+=(a&r|n&~r)+e[9]+568446438|0,s=(s<<5|s>>>27)+a|0,r+=(s&n|a&~n)+e[14]-1019803690|0,r=(r<<9|r>>>23)+s|0,n+=(r&a|s&~a)+e[3]-187363961|0,n=(n<<14|n>>>18)+r|0,a+=(n&s|r&~s)+e[8]+1163531501|0,a=(a<<20|a>>>12)+n|0,s+=(a&r|n&~r)+e[13]-1444681467|0,s=(s<<5|s>>>27)+a|0,r+=(s&n|a&~n)+e[2]-51403784|0,r=(r<<9|r>>>23)+s|0,n+=(r&a|s&~a)+e[7]+1735328473|0,n=(n<<14|n>>>18)+r|0,a+=(n&s|r&~s)+e[12]-1926607734|0,a=(a<<20|a>>>12)+n|0,s+=(a^n^r)+e[5]-378558|0,s=(s<<4|s>>>28)+a|0,r+=(s^a^n)+e[8]-2022574463|0,r=(r<<11|r>>>21)+s|0,n+=(r^s^a)+e[11]+1839030562|0,n=(n<<16|n>>>16)+r|0,a+=(n^r^s)+e[14]-35309556|0,a=(a<<23|a>>>9)+n|0,s+=(a^n^r)+e[1]-1530992060|0,s=(s<<4|s>>>28)+a|0,r+=(s^a^n)+e[4]+1272893353|0,r=(r<<11|r>>>21)+s|0,n+=(r^s^a)+e[7]-155497632|0,n=(n<<16|n>>>16)+r|0,a+=(n^r^s)+e[10]-1094730640|0,a=(a<<23|a>>>9)+n|0,s+=(a^n^r)+e[13]+681279174|0,s=(s<<4|s>>>28)+a|0,r+=(s^a^n)+e[0]-358537222|0,r=(r<<11|r>>>21)+s|0,n+=(r^s^a)+e[3]-722521979|0,n=(n<<16|n>>>16)+r|0,a+=(n^r^s)+e[6]+76029189|0,a=(a<<23|a>>>9)+n|0,s+=(a^n^r)+e[9]-640364487|0,s=(s<<4|s>>>28)+a|0,r+=(s^a^n)+e[12]-421815835|0,r=(r<<11|r>>>21)+s|0,n+=(r^s^a)+e[15]+530742520|0,n=(n<<16|n>>>16)+r|0,a+=(n^r^s)+e[2]-995338651|0,a=(a<<23|a>>>9)+n|0,s+=(n^(a|~r))+e[0]-198630844|0,s=(s<<6|s>>>26)+a|0,r+=(a^(s|~n))+e[7]+1126891415|0,r=(r<<10|r>>>22)+s|0,n+=(s^(r|~a))+e[14]-1416354905|0,n=(n<<15|n>>>17)+r|0,a+=(r^(n|~s))+e[5]-57434055|0,a=(a<<21|a>>>11)+n|0,s+=(n^(a|~r))+e[12]+1700485571|0,s=(s<<6|s>>>26)+a|0,r+=(a^(s|~n))+e[3]-1894986606|0,r=(r<<10|r>>>22)+s|0,n+=(s^(r|~a))+e[10]-1051523|0,n=(n<<15|n>>>17)+r|0,a+=(r^(n|~s))+e[1]-2054922799|0,a=(a<<21|a>>>11)+n|0,s+=(n^(a|~r))+e[8]+1873313359|0,s=(s<<6|s>>>26)+a|0,r+=(a^(s|~n))+e[15]-30611744|0,r=(r<<10|r>>>22)+s|0,n+=(s^(r|~a))+e[6]-1560198380|0,n=(n<<15|n>>>17)+r|0,a+=(r^(n|~s))+e[13]+1309151649|0,a=(a<<21|a>>>11)+n|0,s+=(n^(a|~r))+e[4]-145523070|0,s=(s<<6|s>>>26)+a|0,r+=(a^(s|~n))+e[11]-1120210379|0,r=(r<<10|r>>>22)+s|0,n+=(s^(r|~a))+e[2]+718787259|0,n=(n<<15|n>>>17)+r|0,a+=(r^(n|~s))+e[9]-343485551|0,a=(a<<21|a>>>11)+n|0,t[0]=s+t[0]|0,t[1]=a+t[1]|0,t[2]=n+t[2]|0,t[3]=r+t[3]|0}function a(t){var e,s=[];for(e=0;e<64;e+=4)s[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return s}function n(t){var e,s=[];for(e=0;e<64;e+=4)s[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return s}function r(t){var e,n,r,i,o,c,l=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=l;e+=64)s(u,a(t.substring(e-64,e)));for(t=t.substring(e-64),n=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<n;e+=1)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(s(u,r),e=0;e<16;e+=1)r[e]=0;return i=8*l,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),c=parseInt(i[1],16)||0,r[14]=o,r[15]=c,s(u,r),u}function i(t){var e,a,r,i,o,c,l=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=l;e+=64)s(u,n(t.subarray(e-64,e)));for(t=e-64<l?t.subarray(e-64):new Uint8Array(0),a=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<a;e+=1)r[e>>2]|=t[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(s(u,r),e=0;e<16;e+=1)r[e]=0;return i=8*l,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),c=parseInt(i[1],16)||0,r[14]=o,r[15]=c,s(u,r),u}function o(t){var s,a="";for(s=0;s<4;s+=1)a+=e[t>>8*s+4&15]+e[t>>8*s&15];return a}function c(t){var e;for(e=0;e<t.length;e+=1)t[e]=o(t[e]);return t.join("")}function l(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function u(t,e){var s,a=t.length,n=new ArrayBuffer(a),r=new Uint8Array(n);for(s=0;s<a;s+=1)r[s]=t.charCodeAt(s);return e?r:n}function h(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function d(t,e,s){var a=new Uint8Array(t.byteLength+e.byteLength);return a.set(new Uint8Array(t)),a.set(new Uint8Array(e),t.byteLength),s?a:a.buffer}function f(t){var e,s=[],a=t.length;for(e=0;e<a-1;e+=2)s.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,s)}function p(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==c(r("hello"))&&function(t,e){var s=(65535&t)+(65535&e),a=(t>>16)+(e>>16)+(s>>16);return a<<16|65535&s},"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(s,a){var n,r,i,o,c=this.byteLength,l=e(s,c),u=c;return a!==t&&(u=e(a,c)),l>u?new ArrayBuffer(0):(n=u-l,r=new ArrayBuffer(n),i=new Uint8Array(r),o=new Uint8Array(this,l,n),i.set(o),r)}}(),p.prototype.append=function(t){return this.appendBinary(l(t)),this},p.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,n=this._buff.length;for(e=64;e<=n;e+=64)s(this._hash,a(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},p.prototype.end=function(t){var e,s,a=this._buff,n=a.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n;e+=1)r[e>>2]|=a.charCodeAt(e)<<(e%4<<3);return this._finish(r,n),s=c(this._hash),t&&(s=f(s)),this.reset(),s},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},p.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(t,e){var a,n,r,i=e;if(t[i>>2]|=128<<(i%4<<3),i>55)for(s(this._hash,t),i=0;i<16;i+=1)t[i]=0;a=8*this._length,a=a.toString(16).match(/(.*?)(.{0,8})$/),n=parseInt(a[2],16),r=parseInt(a[1],16)||0,t[14]=n,t[15]=r,s(this._hash,t)},p.hash=function(t,e){return p.hashBinary(l(t),e)},p.hashBinary=function(t,e){var s=r(t),a=c(s);return e?f(a):a},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(t){var e,a=d(this._buff.buffer,t,!0),r=a.length;for(this._length+=t.byteLength,e=64;e<=r;e+=64)s(this._hash,n(a.subarray(e-64,e)));return this._buff=e-64<r?new Uint8Array(a.buffer.slice(e-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(t){var e,s,a=this._buff,n=a.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n;e+=1)r[e>>2]|=a[e]<<(e%4<<3);return this._finish(r,n),s=c(this._hash),t&&(s=f(s)),this.reset(),s},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var t=p.prototype.getState.call(this);return t.buff=h(t.buff),t},p.ArrayBuffer.prototype.setState=function(t){return t.buff=u(t.buff,!0),p.prototype.setState.call(this,t)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(t,e){var s=i(new Uint8Array(t)),a=c(s);return e?f(a):a},p}))},7223:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-back-button",on:{tap:t.back,click:t.back}},[s("app-icon",{attrs:{icon:"go-back"}})],1)},n=[],r={data(){return{lastClick:0}},methods:{back(t){if(Date.now()-this.lastClick<100)return void console.log("duplicate click");this.lastClick=Date.now();const e=this.$store.getters["routeHistory/lastRoute"];e?this.$router.push({name:e,params:{back:!0}}):this.$router.push({name:"discover",params:{back:!0}})}}},i=r,o=(s("1316"),s("2877")),c=Object(o["a"])(i,a,n,!1,null,"6986574d",null);e["a"]=c.exports},7804:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"discover-search-default"}},[t.loading?s("div",{staticClass:"loading"},[s("app-loading-icon")],1):s("div",{staticClass:"content"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.typing,expression:"!typing"}],staticClass:"hot-title"},[t._v(" 热搜榜 ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.typing,expression:"!typing"}],staticClass:"hot"},t._l(t.searchHotData,(function(e){return s("div",{directives:[{name:"show",rawName:"v-show",value:!t.typing,expression:"!typing"}],key:e.score,staticClass:"hot-item",on:{click:function(s){return t.search(e.searchWord)}}},[t._v(" "+t._s(e.searchWord)+" ")])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:t.typing,expression:"typing"}],staticClass:"text"},[t._v(" 搜索「"+t._s(t.searchText)+"」 ")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.typing,expression:"typing"}],staticClass:"advice"},t._l(t.searchAdviceData,(function(e){return s("div",{directives:[{name:"show",rawName:"v-show",value:t.typing,expression:"typing"}],key:e.keyword,staticClass:"advice-item",on:{click:function(s){return t.search(e.keyword)}}},[s("app-icon",{staticClass:"advice-item-icon",attrs:{icon:"search"}}),t._v(" "+t._s(e.keyword)+" ")],1)})),0)])])},n=[];let r=0;const i=(t,e=500)=>{r&&clearTimeout(r),r=setTimeout(()=>{t(),r=0},e)};var o=i,c=s("d1c7"),l=s("f79c"),u={name:"discover-search-default",props:["searchText"],data:function(){return{searchAdviceData:[],searchHotData:[],loading:!0,typing:!1}},components:{AppLoadingIcon:l["default"]},created:function(){Object(c["a"])("/search/hot/detail").then(t=>{this.searchHotData=t.data,this.loading=!1})},watch:{searchText:function(t){this.typing=!!t,t.trim()&&this.searchAdvice(t)}},methods:{searchAdvice(t){o(()=>{this.loading=!0,Object(c["a"])("/search/suggest",{keywords:t,type:"mobile"}).then(t=>{this.searchAdviceData=t.result.allMatch,this.loading=!1})})},search(t){console.log(t),"string"===typeof t&&(this.$emit("update:searchText",t),this.$router.push("/search/result/"+t),console.log("search:"+this.searchText))}}},h=u,d=(s("c342"),s("2877")),f=Object(d["a"])(h,a,n,!1,null,"69e77d46",null);e["default"]=f.exports},"808c":function(t,e,s){},9218:function(t,e,s){"use strict";var a=s("e79e"),n=s.n(a);n.a},9813:function(t,e,s){"use strict";var a=s("de36"),n=s.n(a);n.a},"987d":function(t,e,s){t.exports=s.p+"img/default-pic.5cfc656e.jpg"},"9b39":function(t,e,s){"use strict";var a=s("808c"),n=s.n(a);n.a},b3a8:function(t,e,s){"use strict";var a=s("e1f9"),n=s.n(a);n.a},bbd5:function(t,e,s){},c342:function(t,e,s){"use strict";var a=s("f2c5"),n=s.n(a);n.a},c4de:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-song-entry",on:{click:t.play,tap:t.play}},[s("span",{staticClass:"name"},[t._v(" "+t._s(t.songName)+" ")]),s("span",{staticClass:"info"},[t._v(" "+t._s(t.songInfoString)+" ")]),t._t("count")],2)},n=[],r=(s("5319"),s("d1c7")),i={data(){return{lastClick:0}},props:["songName","songArtist","songAlbum","songId","songCover"],computed:{songInfoString:function(){return this.songAlbum?this.songArtist+" - "+this.songAlbum:this.songArtist}},methods:{play(){Date.now()-this.lastClick<100||(this.lastClick=Date.now(),Object(r["a"])("/check/music",{id:this.songId}).then(t=>{console.log(t),t.success?(this.$store.commit("commonPlay/addToPlay",{id:this.songId,name:this.songName,artist:this.songArtist,album:this.songAlbum,cover:this.songCover.replace("http:","https:")}),this.$router.push("/play")):alert("这首歌暂无版权")}))}}},o=i,c=(s("1246"),s("2877")),l=Object(c["a"])(o,a,n,!1,null,"05373035",null);e["a"]=l.exports},c8e7:function(t,e,s){},de36:function(t,e,s){},e1f9:function(t,e,s){},e79e:function(t,e,s){},f08b:function(t,e,s){},f2c5:function(t,e,s){},f79c:function(t,e,s){"use strict";var a=s("0027"),n=s("5b38"),r=(s("5175"),s("2877")),i=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,null,null);e["default"]=i.exports},f7ea:function(t,e,s){"use strict";var a=s("63f5"),n=s.n(a);n.a}}]);
//# sourceMappingURL=page.34ebbdfa.js.map