{"version":3,"sources":["webpack:///./src/components/AppSongEntry.vue?12cd","webpack:///./src/components/AppBackButton.vue?81ae","webpack:///./src/views/Account/Rank.vue?1de4","webpack:///./src/components/AppBackButton.vue?5108","webpack:///src/components/AppBackButton.vue","webpack:///./src/components/AppBackButton.vue?012c","webpack:///./src/components/AppBackButton.vue","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/views/Account/Rank.vue?93a1","webpack:///src/views/Account/Rank.vue","webpack:///./src/views/Account/Rank.vue?56f3","webpack:///./src/views/Account/Rank.vue","webpack:///./src/components/AppSongEntry.vue?b8fe","webpack:///src/components/AppSongEntry.vue","webpack:///./src/components/AppSongEntry.vue?7c7e","webpack:///./src/components/AppSongEntry.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","back","attrs","staticRenderFns","data","lastClick","methods","Date","now","console","log","lastRoute","$router","push","name","params","component","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","undefined","_v","class","nav","$event","ref","_l","song","key","id","artist","album","cover","scopedSlots","_u","fn","_s","playCount","proxy","weekList","allList","computed","currentList","components","AppBackButton","AppSongEntry","created","uid","$store","state","auth","userID","type","res","code","item","arString","al","picUrl","mounted","$nextTick","updated","scroll","refresh","deactivated","disable","activated","enable","beforeDestroy","destroy","play","songName","songInfoString","_t","props","songAlbum","songArtist"],"mappings":"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","file":"js/chunk-18ac2273-legacy.d4d504f1.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSongEntry.vue?vue&type=style&index=0&id=05373035&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSongEntry.vue?vue&type=style&index=0&id=05373035&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=style&index=0&id=6986574d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=style&index=0&id=6986574d&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=style&index=0&id=578f9da8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=style&index=0&id=578f9da8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-back-button\",on:{\"tap\":_vm.back,\"click\":_vm.back}},[_c('app-icon',{attrs:{\"icon\":\"go-back\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-back-button\" @tap=\"back\" @click=\"back\">\n    <app-icon icon=\"go-back\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      lastClick: 0\n    };\n  },\n\n  methods: {\n    back(event) {\n      // avoid duplicate click fired by both click and tap\n      if (Date.now() - this.lastClick < 100) {\n        console.log('duplicate click');\n        return;\n      }\n      this.lastClick = Date.now();\n      const lastRoute = this.$store.getters['routeHistory/lastRoute'];\n      if (lastRoute) {\n        this.$router.push({\n          name: lastRoute,\n          params: {\n            back: true\n          }\n        });\n      } else {\n        this.$router.push({\n          name: 'discover',\n          params: {\n            back: true\n          }\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.app-back-button {\n  grid-column: back;\n  grid-row: start / end;\n  cursor: pointer;\n  width: 2rem;\n  height: 2rem;\n  font-size: 1.5rem;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppBackButton.vue?vue&type=template&id=6986574d&scoped=true&\"\nimport script from \"./AppBackButton.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBackButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppBackButton.vue?vue&type=style&index=0&id=6986574d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6986574d\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"rank\"}},[_c('div',{staticClass:\"header\"},[_c('app-back-button'),_c('div',{staticClass:\"title\"},[_vm._v(\"我的听歌排行\")])],1),_c('nav',{staticClass:\"nav\"},[_c('div',{class:{'active': _vm.nav==='week-list'},on:{\"click\":function($event){_vm.nav='week-list'}}},[_vm._v(\" 最近一周 \")]),_c('div',{class:{'active': _vm.nav==='all-list'},on:{\"click\":function($event){_vm.nav='all-list'}}},[_vm._v(\" 所有时间 \")])]),_c('div',{ref:\"wrapper\",staticClass:\"list\"},[_c('div',{staticClass:\"content\"},_vm._l((_vm.currentList),function(song){return _c('app-song-entry',{key:song.id,attrs:{\"songId\":song.id,\"songName\":song.name,\"songArtist\":song.artist,\"songAlbum\":song.album,\"songCover\":song.cover},scopedSlots:_vm._u([{key:\"count\",fn:function(){return [_c('span',{staticClass:\"count\"},[_vm._v(_vm._s(song.playCount + '次'))])]},proxy:true}],null,true)})}),1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"rank\">\n    <div class=\"header\">\n      <app-back-button/>\n      <div class=\"title\">我的听歌排行</div>\n    </div>\n    <nav class=\"nav\">\n      <div\n        @click=\"nav='week-list'\"\n        :class=\"{'active': nav==='week-list'}\"\n      >\n        最近一周\n      </div>\n      <div\n        @click=\"nav='all-list'\"\n        :class=\"{'active': nav==='all-list'}\"\n      >\n        所有时间\n      </div>\n    </nav>\n    <div class=\"list\" ref=\"wrapper\">\n      <div class=\"content\">\n        <app-song-entry\n          v-for=\"song in currentList\"\n          :key=\"song.id\"\n          :songId=\"song.id\"\n          :songName=\"song.name\"\n          :songArtist=\"song.artist\"\n          :songAlbum=\"song.album\"\n          :songCover=\"song.cover\"\n        >\n          <template v-slot:count>\n            <span class=\"count\">{{ song.playCount + '次' }}</span>\n          </template>\n        </app-song-entry>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport fetchJSON from '@/functions/fetchJSON.js';\nimport createScroll from '@/functions/createScroll.js';\nimport AppBackButton from '@/components/AppBackButton.vue';\nimport AppSongEntry from '@/components/AppSongEntry.vue';\nexport default {\n  name: 'rank',\n  data() {\n    return {\n      weekList: [],\n      allList: [],\n      nav: 'week-list'\n    };\n  },\n\n  computed: {\n    currentList() {\n      if (this.nav === 'week-list') {\n        return this.weekList;\n      } else {\n        return this.allList;\n      }\n    }\n  },\n\n  components: {\n    AppBackButton,\n    AppSongEntry\n  },\n\n  created() {\n    fetchJSON('/user/record', {\n      uid: this.$store.state.auth.userID,\n      type: 1\n    }).then((res) => {\n      console.log(res);\n      if (res.code === 200) {\n        this.weekList = res.weekData.map((item) => {\n          const arString = item.song.ar.map((ar) => ar.name).join('/');\n          return {\n            id: item.song.id,\n            name: item.song.name,\n            artist: arString,\n            album: item.song.al.name,\n            cover: item.song.al.picUrl,\n            playCount: item.playCount\n          };\n        });\n      }\n      return fetchJSON('/user/record', {\n        uid: this.$store.state.auth.userID,\n        type: 0\n      });\n    }).then((res) => {\n      console.log(res);\n      if (res.code === 200) {\n        this.allList = res.allData.map((item) => {\n          const arString = item.song.ar.map((ar) => ar.name).join('/');\n          return {\n            id: item.song.id,\n            name: item.song.name,\n            artist: arString,\n            album: item.song.al.name,\n            cover: item.song.al.picUrl,\n            playCount: item.playCount\n          };\n        });\n      }\n    });\n  },\n\n  mounted() {\n    this.$nextTick()\n      .then(() => {\n        this.scroll = createScroll(0, this.$refs.wrapper);\n      });\n  },\n\n  updated() {\n    this.scroll.refresh();\n  },\n\n  deactivated() {\n    this.scroll.disable();\n  },\n\n  activated() {\n    if (this.scroll) {\n      this.scroll.enable();\n    }\n  },\n\n  beforeDestroy() {\n    this.scroll.destroy();\n  },\n};\n</script>\n\n<style scoped>\n#rank {\n  height: calc(100vh - 2.5rem);\n  width: 100vw;\n  display: grid;\n  background-color: white;\n  grid-template-rows:\n    [start header-start] min-content [header-end nav-start]\n    2.5rem [nav-end list-start] 1fr [list-end];\n  grid-template-columns:\n    [start] 100% [end];\n}\n\n.header {\n  height: 3rem;\n  padding-top: env(safe-area-inset-top);\n  width: 100%;\n  grid-row: header;\n  background-color: var(--app-color);\n  color: white;\n  grid-column: start / end;\n  display: grid;\n  grid-template-columns:\n    [back-start] 3rem [back-end title-start]\n    1fr [title-end right-start] 3rem [right-end];\n  grid-template-rows: [start] 100% [end];\n  place-items: center;\n}\n\n.title {\n  grid-column: title;\n  grid-row: start / end;\n  font-size: 1.1rem;\n  font-weight: bold;\n}\n\n.nav {\n  grid-row: nav;\n  display: grid;\n  grid-column: 1fr 1fr;\n  grid-auto-flow: column;\n  place-items: center;\n}\n\n.active {\n  border-bottom: 2px solid var(--app-color);\n}\n\n.list {\n  width: 100%;\n  height: 100%;\n  grid-row: list;\n  overflow: hidden;\n  grid-column: start / end;\n  position: relative;\n}\n\n.content {\n  width: 100%;\n  min-height: 101%;\n  display: grid;\n  grid-auto-rows: 3rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Rank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Rank.vue?vue&type=template&id=578f9da8&scoped=true&\"\nimport script from \"./Rank.vue?vue&type=script&lang=js&\"\nexport * from \"./Rank.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Rank.vue?vue&type=style&index=0&id=578f9da8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"578f9da8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-song-entry\",on:{\"click\":_vm.play,\"tap\":_vm.play}},[_c('span',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(_vm.songName)+\" \")]),_c('span',{staticClass:\"info\"},[_vm._v(\" \"+_vm._s(_vm.songInfoString)+\" \")]),_vm._t(\"count\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-song-entry\" @click=\"play\" @tap=\"play\">\n    <span class=\"name\">\n      {{ songName }}\n    </span>\n    <span class=\"info\">\n      {{ songInfoString }}\n    </span>\n    <slot name=\"count\"></slot>\n  </div>\n</template>\n\n<script>\nimport fetchJSON from '@/functions/fetchJSON.js';\nexport default {\n  data() {\n    return {\n      lastClick: 0\n    };\n  },\n  props: ['songName', 'songArtist', 'songAlbum', 'songId', 'songCover'],\n  computed: {\n    songInfoString: function() {\n      if (this.songAlbum) {\n        return this.songArtist + ' - ' + this.songAlbum;\n      } else {\n        return this.songArtist;\n      }\n    }\n  },\n  methods: {\n    play() {\n      // avoid duplicate click fired by both click and tap\n      if (Date.now() - this.lastClick < 100) {\n        return;\n      }\n      this.lastClick = Date.now();\n      fetchJSON('/check/music', {id: this.songId})\n        .then((result) => {\n          console.log(result);\n          if (result.success) {\n            this.$store.commit('commonPlay/addToPlay', {\n              id: this.songId,\n              name: this.songName,\n              artist: this.songArtist,\n              album: this.songAlbum,\n              cover: this.songCover.replace('http:', 'https:')\n            });\n            this.$router.push('/play');\n          } else {\n            alert('这首歌暂无版权');\n          }\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.app-song-entry {\n  width: 100%;\n  height: 100%;\n  padding: 0.3rem 1rem;\n  box-sizing: border-box;\n  display: grid;\n  grid-template-rows: [start name-start] 1.2fr [name-end info-start] 1fr [info-end end];\n  grid-template-columns: [info-start] 1fr [info-end count-start] max-content [count-end];\n  justify-items: start;\n  border-bottom: 1px solid #eee;\n  cursor: pointer;\n}\n\n.name {\n  width: 100%;\n  height: 100%;\n  grid-row: name;\n  grid-column: info;\n  font-size: 1rem;\n  color: black;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.info {\n  width: 100%;\n  height: 100%;\n  grid-row: info;\n  grid-column: info;\n  font-size: 0.8rem;\n  color: #666;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.count {\n  grid-row: start / end;\n  grid-column: count;\n  height: 100%;\n  justify-self: end;\n  font-size: 0.8rem;\n  color: #666;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSongEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSongEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppSongEntry.vue?vue&type=template&id=05373035&scoped=true&\"\nimport script from \"./AppSongEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./AppSongEntry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppSongEntry.vue?vue&type=style&index=0&id=05373035&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05373035\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}