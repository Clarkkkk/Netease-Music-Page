(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["page"],{"0027":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return s}));var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"loading-spinner"}},[n("div",{staticClass:"spinner-icon"},[n("div",{staticClass:"bar bar-one"}),n("div",{staticClass:"bar bar-two"}),n("div",{staticClass:"bar bar-three"}),n("div",{staticClass:"bar bar-four"}),n("div",{staticClass:"bar bar-five"}),n("div",{staticClass:"bar bar-six"}),n("div",{staticClass:"bar bar-seven"}),n("div",{staticClass:"bar bar-eight"}),n("div",{staticClass:"bar bar-nine"}),n("div",{staticClass:"bar bar-ten"}),n("div",{staticClass:"bar bar-eleven"}),n("div",{staticClass:"bar bar-twelve"})])])}]},"025b":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",attrs:{id:"profile"}},[n("img",{ref:"bg",staticClass:"background fade-in",attrs:{src:t.bgSrc}}),n("div",{staticClass:"fixed-container"},[n("div",{ref:"card",staticClass:"card"},[n("img",{ref:"avatar",staticClass:"avatar fade-in",attrs:{src:t.avtSrc}}),n("span",{ref:"nickname",staticClass:"nickname"},[t._v(t._s(t.nickname))]),n("span",{ref:"level",staticClass:"level"},[t._v(t._s("LV. "+t.level))]),n("div",{ref:"logout",staticClass:"logout",on:{tap:t.logout}},[n("app-icon",{attrs:{icon:"log-out"}}),n("span",[t._v("登出")])],1)])]),n("div",{staticClass:"content"},[n("div",{staticClass:"placeholder"}),n("div",{staticClass:"features"},[n("div",{staticClass:"feature-container",on:{tap:function(e){return t.routeTo("rank")}}},[n("app-icon",{attrs:{icon:"bar-chart"}}),n("span",[t._v("听歌排行")])],1),n("div",{staticClass:"feature-container",on:{tap:function(e){return t.routeTo("favorite")}}},[n("div",{staticClass:"icon-container"},[n("app-icon",{attrs:{icon:"like-fill"}})],1),n("span",[t._v("我喜欢的音乐")])])]),n("div",{staticClass:"lists-container"},[n("nav",{staticClass:"nav"},[n("span",{class:{active:"createdLists"===t.listsType},on:{tap:function(e){return t.navTo("createdLists")}}},[t._v(" 创建歌单 ")]),n("span",{class:{active:"savedLists"===t.listsType},on:{tap:function(e){return t.navTo("savedLists")}}},[t._v(" 收藏歌单 ")])]),n("keep-alive",[n("profile-song-lists",{key:t.listsType,attrs:{lists:t.lists,type:t.listsType,loading:t.loading}})],1)],1)])])},s=[],r=(n("99af"),n("fb6a"),n("d3b7"),n("ac1f"),n("3ca3"),n("5319"),n("ddb0"),n("d1c7")),i=n("424d"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"profile-song-lists"}},[n("div",{staticClass:"title"},[t._v(t._s(t.titleString))]),t.loading?n("app-loading-icon"):t._e(),t._l(t.lists,(function(e){return n("div",{key:e.id,staticClass:"list",on:{tap:function(n){return t.tap(e.id)}}},[n("img",{staticClass:"fade-in",attrs:{src:e.coverImgUrl.replace("http:","https:")}}),n("span",{staticClass:"list-name"},[t._v(t._s(e.name))]),n("span",{staticClass:"list-info"},[t._v(t._s(e.trackCount+"首"))])])}))],2)},c=[],l=n("f79c"),u={props:["lists","type","loading"],components:{AppLoadingIcon:l["default"]},computed:{titleString:function(){return"createdLists"===this.type?"创建歌单":"收藏歌单"}},methods:{tap:function(t){this.$router.push({name:"account-songlist",params:{listId:t}})}}},f=u,h=(n("9b39"),n("2877")),d=Object(h["a"])(f,o,c,!1,null,"35414fd4",null),p=d.exports,v={name:"profile",data:function(){return{nickname:"",level:"",listenSongs:"",avtSrc:n("987d"),bgSrc:n("987d"),favoriteList:[],createdLists:[],savedLists:[],listsType:"createdLists",loading:!0}},computed:{lists:function(){return this[this.listsType]},userID:function(){return this.$store.state.auth.userID}},components:{ProfileSongLists:p},created:function(){var t=this;Object(r["a"])("/user/detail",{uid:this.userID}).then((function(e){t.nickname=e.profile.nickname,t.level=e.level,t.listenSongs=e.listenSongs,t.avtSrc=e.profile.avatarUrl.replace("http:","https:"),t.bgSrc=e.profile.backgroundUrl.replace("http:","https:")})),Promise.all([Object(r["a"])("/user/playlist",{uid:this.userID}),Object(r["a"])("/user/subcount")]).then((function(e){if(200===e[0].code&&(t.allList=e[0].playlist),200===e[1].code){var n=e[1].createdPlaylistCount;t.favoriteList=t.allList[0],t.createdLists=t.allList.slice(1,n),t.savedLists=t.allList.slice(n,t.allList.length)}t.loading=!1}))},mounted:function(){var t=this;this.$nextTick().then((function(){t.scroll=Object(i["a"])(2,t.$refs.wrapper,n);var e=t;function n(t){if(t.y>0)e.$refs.bg.style="height: calc(15rem + env(safe-area-inset-top) + ".concat(t.y,"px)");else{var n=-t.y/210<1?-t.y/210:1,a=n;e.$refs.bg.style="height: calc(".concat(15-12*n,"rem + env(safe-area-inset-top));"),e.$refs.card.style="background-color: rgba(var(--app-color-rgb), ".concat(a,");\n              height: calc(").concat(15-12*n,"rem + env(safe-area-inset-top));"),e.$refs.avatar.style="height: ".concat(5.4-3.2*n,"rem;\n              transform: translateY(").concat(3.5*-n,"rem)"),e.$refs.nickname.style="transform: translateX(".concat(3*n,"rem)\n                translateY(").concat(9*-n,"rem)"),e.$refs.level.style=e.$refs.logout.style="opacity: ".concat(1-n,";\n              transform: translateY(").concat(6.5*-n,"rem)")}}}))},updated:function(){this.scroll.refresh()},deactivated:function(){this.scroll.disable()},activated:function(){this.scroll&&this.scroll.enable()},beforeDestroy:function(){this.scroll.destroy()},methods:{navTo:function(t){console.log(t),this.listsType=t},routeTo:function(t){"favorite"===t?this.$router.push({name:"account-favorite",params:{listId:this.favoriteList.id}}):"rank"===t&&this.$router.push({name:"account-rank"})},logout:function(){var t=this;window.confirm("你想退出登录吗？")&&this.$store.dispatch("logout").then((function(){t.$router.replace({name:"login",params:{dock:!0}})}))}}},m=v,g=(n("9218"),Object(h["a"])(m,a,s,!1,null,"b4b04782",null));e["default"]=g.exports},1246:function(t,e,n){"use strict";var a=n("f08b"),s=n.n(a);s.a},1316:function(t,e,n){"use strict";var a=n("c8e7"),s=n.n(a);s.a},"1c92":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("nav",{staticClass:"nav"},[n("div",{class:["method",{active:"phone"===t.loginMethod}],on:{click:function(e){t.loginMethod="phone"}}},[t._v("手机登录")]),n("div",{class:["method",{active:"email"===t.loginMethod}],on:{click:function(e){t.loginMethod="email"}}},[t._v("邮箱登录")])]),n("div",{staticClass:"shadow"}),n("keep-alive",[n("login-by",{key:t.loginMethod,tag:"component",staticClass:"login-body",attrs:{method:t.loginMethod}})],1)],1)},s=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{ref:"form",attrs:{id:"account-by"}},["phone"===t.method?n("label",{staticClass:"label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneNumber,expression:"phoneNumber"}],staticClass:"input",attrs:{type:"tel",placeholder:"手机号"},domProps:{value:t.phoneNumber},on:{blur:function(t){t.target.pattern="[0-9]{11}"},input:function(e){e.target.composing||(t.phoneNumber=e.target.value)}}}),n("span",{staticClass:"notice"},[t._v("请输入有效的手机号码")])]):"email"===t.method?n("label",{staticClass:"label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.mailAddress,expression:"mailAddress"}],staticClass:"input",attrs:{type:"email",placeholder:"邮箱",list:"suggestions"},domProps:{value:t.mailAddress},on:{blur:function(t){t.target.required=!0},input:function(e){e.target.composing||(t.mailAddress=e.target.value)}}}),n("span",{staticClass:"notice"},[t._v("请输入有效的邮箱地址")]),n("datalist",{attrs:{id:"suggestions"}},t._l(t.domains,(function(e){return n("option",{key:e,domProps:{value:t.mailAddress+"@"+e}})})),0)]):t._e(),n("label",{staticClass:"label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"input",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.password},on:{blur:function(t){t.target.required=!0},focus:function(t){t.target.value=""},keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("span",{staticClass:"notice"},[t._v("密码不能为空")])]),n("input",{staticClass:"submit",attrs:{type:"button",value:"登 录"},on:{click:t.login}})])},i=[],o=(n("ac1f"),n("5319"),n("d1c7")),c=n("69a0"),l=n.n(c),u={data:function(){return{phoneNumber:"",mailAddress:"",password:"",domains:["163.com","126.com","yeah.net","vip.163.com","vip.126.com","188.com"]}},props:["method"],methods:{login:function(){var t=this;if(this.$refs.form.reportValidity()){var e,n;switch(this.method){case"phone":n="/login/cellphone",e={phone:this.phoneNumber,md5_password:l.a.hash(this.password)};break;case"email":n="/login",e={email:this.mailAddress,md5_password:l.a.hash(this.password)};break}Object(o["a"])(n,e).then((function(e){console.log(e),200===e.code?(t.$store.commit("auth/login",e),t.$router.replace("/account")):alert(e.message)}))}}}},f=u,h=(n("535f"),n("2877")),d=Object(h["a"])(f,r,i,!1,null,"46d3b266",null),p=d.exports,v={name:"login",data:function(){return{loginMethod:"phone"}},components:{LoginBy:p}},m=v,g=(n("f7ea"),Object(h["a"])(m,a,s,!1,null,"39c1abe3",null));e["default"]=g.exports},"3f1c":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"discover-search-result"}},[t.loading?n("div",{staticClass:"loading"},[n("app-loading-icon")],1):n("div",{staticClass:"content"},[n("div",{staticClass:"multimatch"},[n("span",[t._v("你可能感兴趣")]),t._l(t.matchResult,(function(e){return n("div",{key:e.id,staticClass:"multimatch-item"},[n("img",{attrs:{src:e.picUrl,alt:"封面图片"}}),n("span",[t._v(t._s(e.type+"："+e.name))]),e.artist?n("span",[t._v(t._s(e.artist.name))]):t._e()])}))],2),n("div",{staticClass:"mixed"},[n("span",[t._v("单曲")]),t._l(t.mixedResult,(function(t){return n("app-song-entry",{key:t.id,attrs:{"song-name":t.name,"song-artist":t.artist,"song-album":t.album,"song-id":t.id,"song-cover":t.cover}})})),n("span",[t._v(t._s(t.mixedResult.moreText))])],2)])])},s=[],r=(n("99af"),n("a15b"),n("d81d"),n("b0c0"),n("b85c")),i=n("d1c7"),o=n("c4de"),c=n("f79c"),l={props:["searchText"],data:function(){return{loading:!0,songResult:[],matchResult:[],mixedResult:[]}},components:{AppSongEntry:o["a"],AppLoadingIcon:c["default"]},created:function(){var t=this;Object(i["a"])("/search/multimatch",{keywords:this.searchText}).then((function(e){console.log(e);var n=e.result.orders;if(n){var a,s=Object(r["a"])(n);try{for(s.s();!(a=s.n()).done;){var i=a.value;t.matchResult=t.matchResult.concat(e.result[i])}}catch(o){s.e(o)}finally{s.f()}}})),Object(i["a"])("/search",{keywords:this.searchText,type:"1018"}).then((function(e){console.log(e),t.mixedResult=e.result.song.songs.map((function(t){var e=t.ar.map((function(t){return t.name})).join("/");return{id:t.id,name:t.name,artist:e,album:t.al.name,cover:t.al.picUrl}})),t.loading=!1}))},methods:{arString:function(t){return console.log(t.join("/")),t.join("/")}}},u=l,f=(n("b3a8"),n("2877")),h=Object(f["a"])(u,a,s,!1,null,"610083cd",null);e["default"]=h.exports},"472a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"search"}},[n("app-search-bar",{staticClass:"header",attrs:{focus:!t.isResult},on:{focus:t.onFocus,keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.search(e)}},scopedSlots:t._u([t.isResult?{key:"left",fn:function(){return[n("app-back-button")]},proxy:!0}:null,t.isResult?null:{key:"right",fn:function(){return[n("input",{staticClass:"cancel",attrs:{type:"button",value:"取消"},on:{click:t.searchCancel}})]},proxy:!0}],null,!0),model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}}),n("keep-alive",{attrs:{include:"discover-search-default"}},[n("router-view",{attrs:{searchText:t.searchText},on:{"update:searchText":function(e){t.searchText=e},"update:search-text":function(e){t.searchText=e}}})],1)],1)},s=[],r=(n("b0c0"),n("6fc7")),i=n("7223"),o={name:"search",data:function(){return{loading:!1,searchText:""}},components:{AppSearchBar:r["a"],AppBackButton:i["a"]},computed:{isResult:function(){return"discover-search-result"===this.$route.name}},watch:{searchText:function(t){console.log("searchText changed")}},methods:{onFocus:function(){this.isResult&&this.$router.push({name:"discover-search"})},searchCancel:function(){this.$router.push({name:"discover",params:{back:!0}})},search:function(t){t.target.blur(),this.$router.push("/search/result/"+this.searchText)}}},c=o,l=(n("9813"),n("2877")),u=Object(l["a"])(c,a,s,!1,null,"1bde63f3",null);e["default"]=u.exports},"498a":function(t,e,n){"use strict";var a=n("23e7"),s=n("58a8").trim,r=n("c8d2");a({target:"String",proto:!0,forced:r("trim")},{trim:function(){return s(this)}})},5175:function(t,e,n){"use strict";var a=n("bbd5"),s=n.n(a);s.a},"535f":function(t,e,n){"use strict";var a=n("62a4"),s=n.n(a);s.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var a=n("1d80"),s=n("5899"),r="["+s+"]",i=RegExp("^"+r+r+"*"),o=RegExp(r+r+"*$"),c=function(t){return function(e){var n=String(a(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:c(1),end:c(2),trim:c(3)}},"5b38":function(t,e,n){"use strict";var a=n("6232"),s=n.n(a);e["default"]=s.a},6232:function(t,e){},"62a4":function(t,e,n){},"63f5":function(t,e,n){},"69a0":function(t,e,n){(function(e){t.exports=e()})((function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],a=t[1],s=t[2],r=t[3];n+=(a&s|~a&r)+e[0]-680876936|0,n=(n<<7|n>>>25)+a|0,r+=(n&a|~n&s)+e[1]-389564586|0,r=(r<<12|r>>>20)+n|0,s+=(r&n|~r&a)+e[2]+606105819|0,s=(s<<17|s>>>15)+r|0,a+=(s&r|~s&n)+e[3]-1044525330|0,a=(a<<22|a>>>10)+s|0,n+=(a&s|~a&r)+e[4]-176418897|0,n=(n<<7|n>>>25)+a|0,r+=(n&a|~n&s)+e[5]+1200080426|0,r=(r<<12|r>>>20)+n|0,s+=(r&n|~r&a)+e[6]-1473231341|0,s=(s<<17|s>>>15)+r|0,a+=(s&r|~s&n)+e[7]-45705983|0,a=(a<<22|a>>>10)+s|0,n+=(a&s|~a&r)+e[8]+1770035416|0,n=(n<<7|n>>>25)+a|0,r+=(n&a|~n&s)+e[9]-1958414417|0,r=(r<<12|r>>>20)+n|0,s+=(r&n|~r&a)+e[10]-42063|0,s=(s<<17|s>>>15)+r|0,a+=(s&r|~s&n)+e[11]-1990404162|0,a=(a<<22|a>>>10)+s|0,n+=(a&s|~a&r)+e[12]+1804603682|0,n=(n<<7|n>>>25)+a|0,r+=(n&a|~n&s)+e[13]-40341101|0,r=(r<<12|r>>>20)+n|0,s+=(r&n|~r&a)+e[14]-1502002290|0,s=(s<<17|s>>>15)+r|0,a+=(s&r|~s&n)+e[15]+1236535329|0,a=(a<<22|a>>>10)+s|0,n+=(a&r|s&~r)+e[1]-165796510|0,n=(n<<5|n>>>27)+a|0,r+=(n&s|a&~s)+e[6]-1069501632|0,r=(r<<9|r>>>23)+n|0,s+=(r&a|n&~a)+e[11]+643717713|0,s=(s<<14|s>>>18)+r|0,a+=(s&n|r&~n)+e[0]-373897302|0,a=(a<<20|a>>>12)+s|0,n+=(a&r|s&~r)+e[5]-701558691|0,n=(n<<5|n>>>27)+a|0,r+=(n&s|a&~s)+e[10]+38016083|0,r=(r<<9|r>>>23)+n|0,s+=(r&a|n&~a)+e[15]-660478335|0,s=(s<<14|s>>>18)+r|0,a+=(s&n|r&~n)+e[4]-405537848|0,a=(a<<20|a>>>12)+s|0,n+=(a&r|s&~r)+e[9]+568446438|0,n=(n<<5|n>>>27)+a|0,r+=(n&s|a&~s)+e[14]-1019803690|0,r=(r<<9|r>>>23)+n|0,s+=(r&a|n&~a)+e[3]-187363961|0,s=(s<<14|s>>>18)+r|0,a+=(s&n|r&~n)+e[8]+1163531501|0,a=(a<<20|a>>>12)+s|0,n+=(a&r|s&~r)+e[13]-1444681467|0,n=(n<<5|n>>>27)+a|0,r+=(n&s|a&~s)+e[2]-51403784|0,r=(r<<9|r>>>23)+n|0,s+=(r&a|n&~a)+e[7]+1735328473|0,s=(s<<14|s>>>18)+r|0,a+=(s&n|r&~n)+e[12]-1926607734|0,a=(a<<20|a>>>12)+s|0,n+=(a^s^r)+e[5]-378558|0,n=(n<<4|n>>>28)+a|0,r+=(n^a^s)+e[8]-2022574463|0,r=(r<<11|r>>>21)+n|0,s+=(r^n^a)+e[11]+1839030562|0,s=(s<<16|s>>>16)+r|0,a+=(s^r^n)+e[14]-35309556|0,a=(a<<23|a>>>9)+s|0,n+=(a^s^r)+e[1]-1530992060|0,n=(n<<4|n>>>28)+a|0,r+=(n^a^s)+e[4]+1272893353|0,r=(r<<11|r>>>21)+n|0,s+=(r^n^a)+e[7]-155497632|0,s=(s<<16|s>>>16)+r|0,a+=(s^r^n)+e[10]-1094730640|0,a=(a<<23|a>>>9)+s|0,n+=(a^s^r)+e[13]+681279174|0,n=(n<<4|n>>>28)+a|0,r+=(n^a^s)+e[0]-358537222|0,r=(r<<11|r>>>21)+n|0,s+=(r^n^a)+e[3]-722521979|0,s=(s<<16|s>>>16)+r|0,a+=(s^r^n)+e[6]+76029189|0,a=(a<<23|a>>>9)+s|0,n+=(a^s^r)+e[9]-640364487|0,n=(n<<4|n>>>28)+a|0,r+=(n^a^s)+e[12]-421815835|0,r=(r<<11|r>>>21)+n|0,s+=(r^n^a)+e[15]+530742520|0,s=(s<<16|s>>>16)+r|0,a+=(s^r^n)+e[2]-995338651|0,a=(a<<23|a>>>9)+s|0,n+=(s^(a|~r))+e[0]-198630844|0,n=(n<<6|n>>>26)+a|0,r+=(a^(n|~s))+e[7]+1126891415|0,r=(r<<10|r>>>22)+n|0,s+=(n^(r|~a))+e[14]-1416354905|0,s=(s<<15|s>>>17)+r|0,a+=(r^(s|~n))+e[5]-57434055|0,a=(a<<21|a>>>11)+s|0,n+=(s^(a|~r))+e[12]+1700485571|0,n=(n<<6|n>>>26)+a|0,r+=(a^(n|~s))+e[3]-1894986606|0,r=(r<<10|r>>>22)+n|0,s+=(n^(r|~a))+e[10]-1051523|0,s=(s<<15|s>>>17)+r|0,a+=(r^(s|~n))+e[1]-2054922799|0,a=(a<<21|a>>>11)+s|0,n+=(s^(a|~r))+e[8]+1873313359|0,n=(n<<6|n>>>26)+a|0,r+=(a^(n|~s))+e[15]-30611744|0,r=(r<<10|r>>>22)+n|0,s+=(n^(r|~a))+e[6]-1560198380|0,s=(s<<15|s>>>17)+r|0,a+=(r^(s|~n))+e[13]+1309151649|0,a=(a<<21|a>>>11)+s|0,n+=(s^(a|~r))+e[4]-145523070|0,n=(n<<6|n>>>26)+a|0,r+=(a^(n|~s))+e[11]-1120210379|0,r=(r<<10|r>>>22)+n|0,s+=(n^(r|~a))+e[2]+718787259|0,s=(s<<15|s>>>17)+r|0,a+=(r^(s|~n))+e[9]-343485551|0,a=(a<<21|a>>>11)+s|0,t[0]=n+t[0]|0,t[1]=a+t[1]|0,t[2]=s+t[2]|0,t[3]=r+t[3]|0}function a(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function s(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function r(t){var e,s,r,i,o,c,l=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=l;e+=64)n(u,a(t.substring(e-64,e)));for(t=t.substring(e-64),s=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<s;e+=1)r[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(n(u,r),e=0;e<16;e+=1)r[e]=0;return i=8*l,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),c=parseInt(i[1],16)||0,r[14]=o,r[15]=c,n(u,r),u}function i(t){var e,a,r,i,o,c,l=t.length,u=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=l;e+=64)n(u,s(t.subarray(e-64,e)));for(t=e-64<l?t.subarray(e-64):new Uint8Array(0),a=t.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<a;e+=1)r[e>>2]|=t[e]<<(e%4<<3);if(r[e>>2]|=128<<(e%4<<3),e>55)for(n(u,r),e=0;e<16;e+=1)r[e]=0;return i=8*l,i=i.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(i[2],16),c=parseInt(i[1],16)||0,r[14]=o,r[15]=c,n(u,r),u}function o(t){var n,a="";for(n=0;n<4;n+=1)a+=e[t>>8*n+4&15]+e[t>>8*n&15];return a}function c(t){var e;for(e=0;e<t.length;e+=1)t[e]=o(t[e]);return t.join("")}function l(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function u(t,e){var n,a=t.length,s=new ArrayBuffer(a),r=new Uint8Array(s);for(n=0;n<a;n+=1)r[n]=t.charCodeAt(n);return e?r:s}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function h(t,e,n){var a=new Uint8Array(t.byteLength+e.byteLength);return a.set(new Uint8Array(t)),a.set(new Uint8Array(e),t.byteLength),n?a:a.buffer}function d(t){var e,n=[],a=t.length;for(e=0;e<a-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==c(r("hello"))&&function(t,e){var n=(65535&t)+(65535&e),a=(t>>16)+(e>>16)+(n>>16);return a<<16|65535&n},"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,a){var s,r,i,o,c=this.byteLength,l=e(n,c),u=c;return a!==t&&(u=e(a,c)),l>u?new ArrayBuffer(0):(s=u-l,r=new ArrayBuffer(s),i=new Uint8Array(r),o=new Uint8Array(this,l,s),i.set(o),r)}}(),p.prototype.append=function(t){return this.appendBinary(l(t)),this},p.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,s=this._buff.length;for(e=64;e<=s;e+=64)n(this._hash,a(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},p.prototype.end=function(t){var e,n,a=this._buff,s=a.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<s;e+=1)r[e>>2]|=a.charCodeAt(e)<<(e%4<<3);return this._finish(r,s),n=c(this._hash),t&&(n=d(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},p.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(t,e){var a,s,r,i=e;if(t[i>>2]|=128<<(i%4<<3),i>55)for(n(this._hash,t),i=0;i<16;i+=1)t[i]=0;a=8*this._length,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),r=parseInt(a[1],16)||0,t[14]=s,t[15]=r,n(this._hash,t)},p.hash=function(t,e){return p.hashBinary(l(t),e)},p.hashBinary=function(t,e){var n=r(t),a=c(n);return e?d(a):a},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(t){var e,a=h(this._buff.buffer,t,!0),r=a.length;for(this._length+=t.byteLength,e=64;e<=r;e+=64)n(this._hash,s(a.subarray(e-64,e)));return this._buff=e-64<r?new Uint8Array(a.buffer.slice(e-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(t){var e,n,a=this._buff,s=a.length,r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<s;e+=1)r[e>>2]|=a[e]<<(e%4<<3);return this._finish(r,s),n=c(this._hash),t&&(n=d(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var t=p.prototype.getState.call(this);return t.buff=f(t.buff),t},p.ArrayBuffer.prototype.setState=function(t){return t.buff=u(t.buff,!0),p.prototype.setState.call(this,t)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(t,e){var n=i(new Uint8Array(t)),a=c(n);return e?d(a):a},p}))},7223:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-back-button",on:{tap:t.back,click:t.back}},[n("app-icon",{attrs:{icon:"go-back"}})],1)},s=[],r={data:function(){return{lastClick:0}},methods:{back:function(t){if(Date.now()-this.lastClick<100)console.log("duplicate click");else{this.lastClick=Date.now();var e=this.$store.getters["routeHistory/lastRoute"];e?this.$router.push({name:e,params:{back:!0}}):this.$router.push({name:"discover",params:{back:!0}})}}}},i=r,o=(n("1316"),n("2877")),c=Object(o["a"])(i,a,s,!1,null,"6986574d",null);e["a"]=c.exports},7804:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"discover-search-default"}},[t.loading?n("div",{staticClass:"loading"},[n("app-loading-icon")],1):n("div",{staticClass:"content"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.typing,expression:"!typing"}],staticClass:"hot-title"},[t._v(" 热搜榜 ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.typing,expression:"!typing"}],staticClass:"hot"},t._l(t.searchHotData,(function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:!t.typing,expression:"!typing"}],key:e.score,staticClass:"hot-item",on:{click:function(n){return t.search(e.searchWord)}}},[t._v(" "+t._s(e.searchWord)+" ")])})),0),n("div",{directives:[{name:"show",rawName:"v-show",value:t.typing,expression:"typing"}],staticClass:"text"},[t._v(" 搜索「"+t._s(t.searchText)+"」 ")]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.typing,expression:"typing"}],staticClass:"advice"},t._l(t.searchAdviceData,(function(e){return n("div",{directives:[{name:"show",rawName:"v-show",value:t.typing,expression:"typing"}],key:e.keyword,staticClass:"advice-item",on:{click:function(n){return t.search(e.keyword)}}},[n("app-icon",{staticClass:"advice-item-icon",attrs:{icon:"search"}}),t._v(" "+t._s(e.keyword)+" ")],1)})),0)])])},s=[],r=(n("498a"),0),i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;r&&clearTimeout(r),r=setTimeout((function(){t(),r=0}),e)},o=i,c=n("d1c7"),l=n("f79c"),u={name:"discover-search-default",props:["searchText"],data:function(){return{searchAdviceData:[],searchHotData:[],loading:!0,typing:!1}},components:{AppLoadingIcon:l["default"]},created:function(){var t=this;Object(c["a"])("/search/hot/detail").then((function(e){t.searchHotData=e.data,t.loading=!1}))},watch:{searchText:function(t){this.typing=!!t,t.trim()&&this.searchAdvice(t)}},methods:{searchAdvice:function(t){var e=this;o((function(){e.loading=!0,Object(c["a"])("/search/suggest",{keywords:t,type:"mobile"}).then((function(t){e.searchAdviceData=t.result.allMatch,e.loading=!1}))}))},search:function(t){console.log(t),"string"===typeof t&&(this.$emit("update:searchText",t),this.$router.push("/search/result/"+t),console.log("search:"+this.searchText))}}},f=u,h=(n("c342"),n("2877")),d=Object(h["a"])(f,a,s,!1,null,"69e77d46",null);e["default"]=d.exports},"808c":function(t,e,n){},9218:function(t,e,n){"use strict";var a=n("e79e"),s=n.n(a);s.a},9813:function(t,e,n){"use strict";var a=n("de36"),s=n.n(a);s.a},"987d":function(t,e,n){t.exports=n.p+"img/default-pic.5cfc656e.jpg"},"9b39":function(t,e,n){"use strict";var a=n("808c"),s=n.n(a);s.a},a15b:function(t,e,n){"use strict";var a=n("23e7"),s=n("44ad"),r=n("fc6a"),i=n("a640"),o=[].join,c=s!=Object,l=i("join",",");a({target:"Array",proto:!0,forced:c||!l},{join:function(t){return o.call(r(this),void 0===t?",":t)}})},b3a8:function(t,e,n){"use strict";var a=n("e1f9"),s=n.n(a);s.a},bbd5:function(t,e,n){},c342:function(t,e,n){"use strict";var a=n("f2c5"),s=n.n(a);s.a},c4de:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-song-entry",on:{click:t.play,tap:t.play}},[n("span",{staticClass:"name"},[t._v(" "+t._s(t.songName)+" ")]),n("span",{staticClass:"info"},[t._v(" "+t._s(t.songInfoString)+" ")]),t._t("count")],2)},s=[],r=(n("ac1f"),n("5319"),n("d1c7")),i={data:function(){return{lastClick:0}},props:["songName","songArtist","songAlbum","songId","songCover"],computed:{songInfoString:function(){return this.songAlbum?this.songArtist+" - "+this.songAlbum:this.songArtist}},methods:{play:function(){var t=this;Date.now()-this.lastClick<100||(this.lastClick=Date.now(),Object(r["a"])("/check/music",{id:this.songId}).then((function(e){console.log(e),e.success?(t.$store.commit("commonPlay/addToPlay",{id:t.songId,name:t.songName,artist:t.songArtist,album:t.songAlbum,cover:t.songCover.replace("http:","https:")}),t.$router.push("/play")):alert("这首歌暂无版权")})))}}},o=i,c=(n("1246"),n("2877")),l=Object(c["a"])(o,a,s,!1,null,"05373035",null);e["a"]=l.exports},c8d2:function(t,e,n){var a=n("d039"),s=n("5899"),r="​᠎";t.exports=function(t){return a((function(){return!!s[t]()||r[t]()!=r||s[t].name!==t}))}},c8e7:function(t,e,n){},de36:function(t,e,n){},e1f9:function(t,e,n){},e79e:function(t,e,n){},f08b:function(t,e,n){},f2c5:function(t,e,n){},f79c:function(t,e,n){"use strict";var a=n("0027"),s=n("5b38"),r=(n("5175"),n("2877")),i=Object(r["a"])(s["default"],a["a"],a["b"],!1,null,null,null);e["default"]=i.exports},f7ea:function(t,e,n){"use strict";var a=n("63f5"),s=n.n(a);s.a}}]);
//# sourceMappingURL=page-legacy.fdb16327.js.map