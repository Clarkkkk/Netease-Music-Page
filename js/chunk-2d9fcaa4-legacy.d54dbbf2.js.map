{"version":3,"sources":["webpack:///./src/components/AppLikeIcon.vue?def7","webpack:///./src/components/AppLoopText.vue?5ffe","webpack:///src/components/AppLoopText.vue","webpack:///./src/components/AppLoopText.vue?1bb8","webpack:///./src/components/AppLoopText.vue","webpack:///./src/components/AppBackButton.vue?81ae","webpack:///./src/components/RadioControls.vue?6d4d","webpack:///./src/components/AppLoopText.vue?46e2","webpack:///./src/components/AppBackButton.vue?5108","webpack:///src/components/AppBackButton.vue","webpack:///./src/components/AppBackButton.vue?012c","webpack:///./src/components/AppBackButton.vue","webpack:///./src/components/AppLikeIcon.vue?9734","webpack:///src/components/AppLikeIcon.vue","webpack:///./src/components/AppLikeIcon.vue?5e60","webpack:///./src/components/AppLikeIcon.vue","webpack:///./src/views/Radio.vue?dceb","webpack:///./src/assets/default-pic.jpg","webpack:///./node_modules/core-js/modules/es.array.join.js","webpack:///./src/components/PlayProgressBar.vue?3609","webpack:///src/components/PlayProgressBar.vue","webpack:///./src/components/PlayProgressBar.vue?4e6c","webpack:///./src/components/PlayProgressBar.vue","webpack:///./src/views/Radio.vue?370d","webpack:///./src/components/RadioControls.vue?c2cb","webpack:///src/components/RadioControls.vue","webpack:///./src/components/RadioControls.vue?2437","webpack:///./src/components/RadioControls.vue","webpack:///src/views/Radio.vue","webpack:///./src/views/Radio.vue?aa13","webpack:///./src/views/Radio.vue","webpack:///./src/components/PlayProgressBar.vue?f875"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","ref","staticClass","_v","_s","text","staticRenderFns","props","data","intervalID","created","animate","_animate","bind","mounted","$nextTick","watch","methods","$refs","classList","remove","clone","style","transform","document","body","offsetWidth","add","component","on","back","lastClick","Date","now","console","log","lastRoute","$router","push","name","params","click","key","iconName","class","isLiked","computed","login","$store","state","auth","playID","getters","id","likelist","includes","like","res","code","module","exports","$","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","join","ES3_STRINGS","Object","STRICT_METHOD","target","proto","forced","separator","call","undefined","playTime","pointerDown","pointerMove","pointerUp","isPointerDown","waiting","playDuration","formatTime","currentTime","duration","percentage","pointer","transition","played","width","isNaN","time","formatMinute","formatSecond","rect","container","getBoundingClientRect","right","left","event","setPointerCapture","pointerId","relativeLeft","clientX","seek","onScroll","picUrl","currentSong","artist","nativeOn","$event","dislike","playOrPause","playing","nextSong","components","AppLikeIcon","AppBackButton","AppLoopText","PlayProgressBar","RadioControls","cover","radioIndex","newIndex","radioList","length","updateList","preventDefault"],"mappings":"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","file":"js/chunk-2d9fcaa4-legacy.d54dbbf2.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLikeIcon.vue?vue&type=style&index=0&id=33665981&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLikeIcon.vue?vue&type=style&index=0&id=33665981&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-loop-text\"}},[_c('div',{ref:\"text\",staticClass:\"text\"},[_vm._v(_vm._s(_vm.text))]),_c('div',{ref:\"clone\",staticClass:\"clone\"},[_vm._v(_vm._s(_vm.text))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app-loop-text\">\n    <div class=\"text\" ref=\"text\">{{ text }}</div>\n    <div class=\"clone\" ref=\"clone\">{{ text }}</div>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: ['text'],\n  data: function() {\n    return {\n      intervalID: 0\n    };\n  },\n\n  created() {\n    this.animate = this._animate.bind(this);\n  },\n\n  mounted() {\n    this.$nextTick()\n      .then(() => {\n        this.boxWidth = this.$el.clientWidth;\n        this.textWidth = this.$refs.text.clientWidth;\n        if (this.boxWidth < this.textWidth) {\n          this.animate();\n          this.intervalID = setInterval(this.animate, 12000);\n        }\n      });\n  },\n\n  watch: {\n    text() {\n      this.$nextTick()\n        .then(() => {\n          this.boxWidth = this.$el.clientWidth;\n          this.textWidth = this.$refs.text.clientWidth;\n          clearInterval(this.intervalID);\n          if (this.boxWidth < this.textWidth) {\n            this.animate();\n            this.intervalID = setInterval(this.animate, 12000);\n          }\n        });\n    },\n  },\n\n  methods: {\n    _animate() {\n      this.$refs.text.classList.remove('loop');\n      this.$refs.clone.classList.remove('loop');\n      this.$refs.text.style.transform = `translateX(0px)`;\n      this.$refs.clone.style.transform = `translateX(${this.textWidth}px)`;\n      document.body.offsetWidth;\n      this.$refs.text.classList.add('loop');\n      this.$refs.clone.classList.add('loop');\n      this.$refs.text.style.transform = `translateX(${-this.textWidth}px)`;\n      this.$refs.clone.style.transform = `translateX(0px)`;\n    }\n  }\n};\n</script>\n\n<style scoped>\n#app-loop-text {\n  grid-row: loop-text;\n  grid-column: loop-text;\n  width: 100%;\n  padding: 0 1rem;\n  box-sizing: border-box;\n  overflow: hidden;\n  display: grid;\n  grid-template-columns: 1fr [start] min-content [end] 1fr;\n  grid-template-rows: [start] 100% [end];\n  justify-items: center;\n  justify-content: start;\n}\n\n.text {\n  grid-row: start / end;\n  grid-column: start / end;\n  white-space: nowrap;\n  padding: 0 1rem;\n  width: max-content;\n}\n\n.clone {\n  grid-row: start / end;\n  grid-column: start / end;\n  white-space: nowrap;\n  padding: 0 1rem;\n  width: max-content;\n}\n\n.loop {\n  transition: transform 8000ms linear 2000ms;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLoopText.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLoopText.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppLoopText.vue?vue&type=template&id=7033acc7&scoped=true&\"\nimport script from \"./AppLoopText.vue?vue&type=script&lang=js&\"\nexport * from \"./AppLoopText.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppLoopText.vue?vue&type=style&index=0&id=7033acc7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7033acc7\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=style&index=0&id=6986574d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=style&index=0&id=6986574d&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RadioControls.vue?vue&type=style&index=0&id=47926812&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RadioControls.vue?vue&type=style&index=0&id=47926812&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLoopText.vue?vue&type=style&index=0&id=7033acc7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLoopText.vue?vue&type=style&index=0&id=7033acc7&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-back-button\",on:{\"tap\":_vm.back,\"click\":_vm.back}},[_c('app-icon',{attrs:{\"icon\":\"go-back\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-back-button\" @tap=\"back\" @click=\"back\">\n    <app-icon icon=\"go-back\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      lastClick: 0\n    };\n  },\n\n  methods: {\n    back(event) {\n      // avoid duplicate click fired by both click and tap\n      if (Date.now() - this.lastClick < 100) {\n        console.log('duplicate click');\n        return;\n      }\n      this.lastClick = Date.now();\n      const lastRoute = this.$store.getters['routeHistory/lastRoute'];\n      if (lastRoute) {\n        this.$router.push({\n          name: lastRoute,\n          params: {\n            back: true\n          }\n        });\n      } else {\n        this.$router.push({\n          name: 'discover',\n          params: {\n            back: true\n          }\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.app-back-button {\n  grid-column: back;\n  grid-row: start / end;\n  cursor: pointer;\n  width: 2rem;\n  height: 2rem;\n  font-size: 1.5rem;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppBackButton.vue?vue&type=template&id=6986574d&scoped=true&\"\nimport script from \"./AppBackButton.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBackButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppBackButton.vue?vue&type=style&index=0&id=6986574d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6986574d\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app-like-icon\"},on:{\"click\":_vm.click}},[_c('transition',{attrs:{\"name\":\"like\",\"mode\":\"out-in\"}},[_c('app-icon',{key:_vm.iconName,class:{'liked': _vm.isLiked},attrs:{\"icon\":_vm.iconName}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app-like-icon\"\n    @click=\"click\"\n  >\n    <transition name=\"like\" mode=\"out-in\">\n      <app-icon\n        :icon=\"iconName\"\n        :key=\"iconName\"\n        :class=\"{'liked': isLiked}\"\n      />\n    </transition>\n  </div>\n</template>\n\n<script>\nimport fetchJSON from '@/functions/fetchJSON.js';\nexport default {\n  computed: {\n    login() {\n      return this.$store.state.auth.login;\n    },\n\n    playID() {\n      return this.$store.getters['currentSong'].id;\n    },\n\n    likelist() {\n      return this.$store.state.likelist;\n    },\n\n    isLiked() {\n      return this.likelist.includes(this.playID);\n    },\n\n    iconName() {\n      return this.isLiked ? 'like-fill' : 'like';\n    }\n  },\n\n  methods: {\n    click(event) {\n      if (this.login) {\n        fetchJSON('/like', {\n          id: this.playID,\n          like: this.isLiked ? false : true\n        }).then((res) => {\n          console.log(res);\n          if (res.code === 200) {\n            this.$store.dispatch('updateLikelist');\n          }\n        });\n      } else if (window.confirm('该功能需要登录，是否前往登录？')) {\n        this.$router.push({name: 'login', params: {dock: true}});\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.liked {\n  color: var(--app-color);\n}\n\n.like-enter, .like-leave-to {\n  opacity: 0.5;\n  transform: scale(0.3);\n}\n\n.like-enter-active, .like-leave-active {\n  transition:\n    opacity 200ms,\n    transform 200ms;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLikeIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLikeIcon.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppLikeIcon.vue?vue&type=template&id=33665981&scoped=true&\"\nimport script from \"./AppLikeIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./AppLikeIcon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppLikeIcon.vue?vue&type=style&index=0&id=33665981&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"33665981\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Radio.vue?vue&type=style&index=0&id=43970ac7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Radio.vue?vue&type=style&index=0&id=43970ac7&scoped=true&lang=css&\"","module.exports = __webpack_public_path__ + \"img/default-pic.5cfc656e.jpg\";","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"play-progress-bar\"}},[_c('div',{staticClass:\"time\"},[_vm._v(\" \"+_vm._s(_vm.playTime)+\" \")]),_c('div',{ref:\"container\",staticClass:\"container\",on:{\"pointerdown\":_vm.pointerDown,\"pointermove\":_vm.pointerMove,\"pointerup\":_vm.pointerUp}},[_c('div',{staticClass:\"groove\"},[_c('div',{ref:\"played\",staticClass:\"played-section\"}),_c('div',{ref:\"pointer\",class:['pointer', {'pointer-down': _vm.isPointerDown}, {'waiting': _vm.waiting}]})])]),_c('div',{staticClass:\"time\"},[_vm._v(\" \"+_vm._s(_vm.playDuration)+\" \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"play-progress-bar\">\n    <div class=\"time\">\n      {{ playTime }}\n    </div>\n    <div\n      class=\"container\"\n      ref=\"container\"\n      @pointerdown=\"pointerDown\"\n      @pointermove=\"pointerMove\"\n      @pointerup=\"pointerUp\"\n    >\n      <div class=\"groove\">\n        <div\n          class=\"played-section\"\n          ref=\"played\"\n        ></div>\n        <div\n          :class=\"['pointer', {'pointer-down': isPointerDown}, {'waiting': waiting}]\"\n          ref=\"pointer\"\n        ></div>\n      </div>\n    </div>\n    <div class=\"time\">\n      {{ playDuration }}\n    </div>\n  </div>\n</template>\n\n<script>\nimport {createNamespacedHelpers} from 'vuex';\nconst {mapState, mapMutations} = createNamespacedHelpers('playStatus');\nexport default {\n  data: function() {\n    return {\n      isPointerDown: false\n    };\n  },\n\n  computed: {\n    ...mapState(['currentTime', 'duration', 'waiting']),\n    playTime: function() {\n      return this.formatTime(this.currentTime);\n    },\n    playDuration: function() {\n      return this.formatTime(this.duration);\n    }\n  },\n\n  mounted() {\n    this.$nextTick()\n      .then(() => {\n        this.rect = this.$refs.container.getBoundingClientRect();\n      });\n  },\n\n\n  watch: {\n    currentTime(current) {\n      if (this.isPointerDown) {\n        return;\n      }\n      const percentage = Math.max(current / this.duration, 0);\n      if (percentage < 0.01) {\n        this.$refs.pointer.style.transition = 'none';\n      }\n      this.$refs.pointer.style.transform =\n        `translateX(calc(${percentage} * (70vw - 0.5rem))`;\n      this.$refs.played.style.width = `${percentage * 100}%`;\n    }\n  },\n\n  methods: {\n    ...mapMutations(['seek']),\n    formatTime(time) {\n      if (isNaN(time)) {\n        return '-- : --';\n      }\n      const timeInt = Math.floor(time);\n      const second = timeInt % 60;\n      const minute = (timeInt - second) / 60;\n      const formatSecond = second < 10 ? '0' + second : second;\n      const formatMinute = minute < 10 ? '0' + minute : minute;\n      return formatMinute + ':' + formatSecond;\n    },\n\n    pointerDown(event) {\n      this.isPointerDown = true;\n      this.rect = this.$refs.container.getBoundingClientRect();\n      this.width = this.rect.right - this.rect.left;\n      const relativeLeft = event.clientX - this.rect.left;\n      this.$refs.pointer.style.transform =\n        `translateX(${relativeLeft}px`;\n      this.$refs.played.style.width = `${relativeLeft / this.width * 100}%`;\n      event.target.setPointerCapture(event.pointerId);\n    },\n\n    pointerMove(event) {\n      if (this.isPointerDown) {\n        let relativeLeft;\n        if (event.clientX - this.rect.left > this.width) {\n          relativeLeft = this.width;\n        } else if (event.clientX - this.rect.left < 0) {\n          relativeLeft = 0;\n        } else {\n          relativeLeft = event.clientX - this.rect.left;\n        }\n        this.$refs.pointer.style.transform = `translateX(${relativeLeft}px`;\n        this.$refs.played.style.width = `${relativeLeft / this.width * 100}%`;\n      }\n    },\n\n    pointerUp(event) {\n      this.isPointerDown = false;\n      this.$refs.pointer.classList.add('smooth-move');\n      const percentage =\n        (event.clientX - this.rect.left) / (this.rect.right - this.rect.left);\n      this.seek(this.duration * percentage);\n    }\n  }\n};\n</script>\n\n<style scoped>\n#play-progress-bar {\n  grid-area: progress-bar;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns:\n    [start current-start] minmax(3rem, 15vw) [current-end bar-start]\n    1fr [bar-end duration-start] minmax(3rem, 15vw) [duration-end end];\n  grid-template-rows: 1fr;\n  place-items: center;\n  user-select: none;\n}\n\n.container {\n  grid-column: bar;\n  height: 1rem;\n  display: grid;\n  place-items: center;\n  cursor: pointer;\n  touch-action: none;\n}\n\n.groove {\n  width: 70vw;\n  height: 0.1rem;\n  border-radius: 0.1rem;\n  background-color: #dddddd80;\n  display: grid;\n  grid-template-columns: [start] 100% [end];\n  grid-template-rows: [start] 100% [end];\n  align-items: center;\n  align-content: center;\n  justify-items: start;\n}\n\n.pointer {\n  grid-row: start / end;\n  grid-column: start / end;\n  width: 0.5rem;\n  height: 0.5rem;\n  border-radius: 50%;\n  background-color: white;\n  box-shadow: 0 0 5px #666666a0;\n  cursor: pointer;\n  touch-action: none;\n  transition:\n    height linear 100ms,\n    width linear 100ms,\n    transform linear 500ms;\n}\n\n.played-section {\n  grid-row: start / end;\n  grid-column: start / end;\n  height: 0.1rem;\n  background-color: #ffffff80;\n}\n\n.pointer.pointer-down {\n  height: 1rem;\n  width: 1rem;\n  transition: none;\n  transition:\n    height linear 300ms,\n    width linear 300ms;\n}\n\n.pointer.waiting {\n  animation: waiting 1000ms alternate ease infinite;\n}\n\n@keyframes waiting {\n  from {\n    background-color: white;\n  }\n\n  to {\n    background-color: var(--app-color);\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayProgressBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayProgressBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PlayProgressBar.vue?vue&type=template&id=12d41a0a&scoped=true&\"\nimport script from \"./PlayProgressBar.vue?vue&type=script&lang=js&\"\nexport * from \"./PlayProgressBar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PlayProgressBar.vue?vue&type=style&index=0&id=12d41a0a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"12d41a0a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"play\"},on:{\"scroll\":_vm.onScroll}},[_c('img',{staticClass:\"background fade-in\",attrs:{\"alt\":\"背景图片\",\"src\":_vm.picUrl}}),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"header\"},[_c('app-back-button'),_c('span',{staticClass:\"title\"},[_vm._v(\"私人FM\")])],1),_c('img',{staticClass:\"cover fade-in\",attrs:{\"alt\":\"封面图片\",\"src\":_vm.picUrl}}),_c('app-loop-text',{staticClass:\"song-name\",attrs:{\"text\":_vm.currentSong.name}}),_c('div',{staticClass:\"song-artist\"},[_vm._v(_vm._s(_vm.currentSong.artist))]),_c('play-progress-bar'),_c('radio-controls')],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"play-controls\"}},[_c('app-icon',{staticClass:\"dislike\",attrs:{\"icon\":\"like-slash\"},nativeOn:{\"click\":function($event){return _vm.dislike($event)}}}),_c('app-like-icon',{staticClass:\"like\"}),_c('div',{staticClass:\"play\",on:{\"click\":_vm.playOrPause}},[_c('app-icon',{attrs:{\"icon\":_vm.playing ? 'pause' : 'play'}})],1),_c('app-icon',{staticClass:\"next\",attrs:{\"icon\":\"next-song\"},nativeOn:{\"click\":function($event){return _vm.nextSong($event)}}}),_c('app-icon',{staticClass:\"comment\",attrs:{\"icon\":\"comment\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"play-controls\">\n    <app-icon\n      icon=\"like-slash\"\n      class=\"dislike\"\n      @click.native=\"dislike\"\n    />\n    <app-like-icon class=\"like\"/>\n    <div\n      class=\"play\"\n      @click=\"playOrPause\"\n    >\n      <app-icon :icon=\"playing ? 'pause' : 'play'\" />\n    </div>\n    <app-icon\n      icon=\"next-song\"\n      class=\"next\"\n      @click.native=\"nextSong\"\n    />\n    <app-icon\n      icon=\"comment\"\n      class=\"comment\"\n    />\n  </div>\n</template>\n\n<script>\nimport {mapState, mapMutations, mapActions} from 'vuex';\nimport fetchJSON from '@/functions/fetchJSON.js';\nimport AppLikeIcon from '@/components/AppLikeIcon.vue';\nexport default {\n  computed: {\n    ...mapState('playStatus', ['playing']),\n    playID() {\n      return this.$store.getters['currentSong'].id;\n    }\n  },\n  components: {\n    AppLikeIcon\n  },\n  methods: {\n    ...mapMutations('radioPlay', ['nextSong']),\n    ...mapActions('playStatus', ['playOrPause']),\n    dislike() {\n      fetchJSON('/fm_trash', {id: this.playID})\n        .then((res) => {\n          if (res.code === 200) {\n            this.nextSong();\n          }\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n#play-controls {\n  grid-row: controls;\n  width: 100%;\n  height: 100%;\n  display: grid;\n  grid-template-columns:\n    [start] 1fr [dislike-start] minmax(4rem, 1fr) [dislike-end like-start] minmax(4rem, 1fr)\n    [like-end play-start] minmax(4rem, 1fr) [play-end next-start]\n    minmax(4rem, 1fr) [next-end comment-start] minmax(4rem, 1fr) [comment-end] 1fr [end];\n  grid-template-rows: [start] 100% [end];\n  place-items: center;\n}\n\n/* controls */\n.dislike {\n  grid-column: dislike;\n  width: 1.5rem;\n  height: 1.5rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n}\n\n.like {\n  grid-column: like;\n  width: 1.5rem;\n  height: 1.5rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n}\n\n.play {\n  grid-column: play;\n  width: 4rem;\n  height: 4rem;\n  font-size: 4rem;\n  cursor: pointer;\n}\n\n.next {\n  grid-column: next;\n  width: 2.3rem;\n  height: 2.3rem;\n  font-size: 2.3rem;\n  cursor: pointer;\n}\n\n.comment {\n  grid-column: comment;\n  width: 1.5rem;\n  height: 1.5rem;\n  font-size: 1.5rem;\n  cursor: pointer;\n}\n/* controls */\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RadioControls.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RadioControls.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RadioControls.vue?vue&type=template&id=47926812&scoped=true&\"\nimport script from \"./RadioControls.vue?vue&type=script&lang=js&\"\nexport * from \"./RadioControls.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RadioControls.vue?vue&type=style&index=0&id=47926812&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47926812\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"play\" @scroll=\"onScroll\">\n\n    <img alt=\"背景图片\" class=\"background fade-in\" :src=\"picUrl\">\n\n    <div class=\"content\">\n      <div class=\"header\">\n        <app-back-button/>\n        <span class=\"title\">私人FM</span>\n      </div>\n\n      <img alt=\"封面图片\" class=\"cover fade-in\" :src=\"picUrl\">\n\n      <app-loop-text :text=\"currentSong.name\" class=\"song-name\"/>\n      <div class=\"song-artist\">{{ currentSong.artist }}</div>\n\n      <play-progress-bar/>\n      <radio-controls/>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport AppBackButton from '@/components/AppBackButton.vue';\nimport AppLoopText from '@/components/AppLoopText.vue';\nimport PlayProgressBar from '@/components/PlayProgressBar.vue';\nimport RadioControls from '@/components/RadioControls.vue';\nimport fetchJSON from '@/functions/fetchJSON.js';\nimport {mapState, mapGetters, mapMutations} from 'vuex';\nexport default {\n  components: {\n    AppBackButton,\n    AppLoopText,\n    PlayProgressBar,\n    RadioControls\n  },\n  computed: {\n    ...mapState('playStatus', ['playing']),\n    ...mapGetters('radioPlay', ['currentSong']),\n    ...mapState('radioPlay', ['radioIndex', 'radioList']),\n    picUrl() {\n      return this.currentSong.cover ?\n        this.currentSong.cover : require('@/assets/default-pic.jpg');\n    }\n  },\n\n  watch: {\n    radioIndex(newIndex) {\n      if (newIndex > 0 && this.radioList.length - newIndex === 1) {\n        this.updateList();\n      }\n    }\n  },\n\n  created() {\n    console.log(this.$store);\n    this.updateList();\n    console.log(this.$store);\n  },\n\n  methods: {\n    ...mapMutations(['clear']),\n    ...mapMutations('radioPlay', ['radioListUpdate']),\n    updateList() {\n      fetchJSON('/personal_fm')\n        .then((res) => {\n          console.log(res);\n          const list = res.data.map((song) => {\n            const arString = song.artists.map((item) => item.name).join('/');\n            return {\n              id: song.id,\n              name: song.name,\n              artist: arString,\n              album: song.album.name,\n              cover: song.album.picUrl.replace('http:', 'https:')\n            };\n          });\n          this.radioListUpdate(list);\n        });\n    },\n    onScroll(event) {\n      event.preventDefault();\n      return false;\n    }\n  }\n};\n</script>\n\n<style scoped>\n#play {\n  width: 100vw;\n  height: 100vh;\n  color: white;\n  background-color: #666;\n}\n\n.background {\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 0;\n  object-fit: cover;\n  filter: blur(30px) brightness(100%);\n  opacity: 0.6;\n  transform: scale(1.12);\n}\n\n.content {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  z-index: 10;\n  left: 0;\n  top: 0;\n  display: grid;\n  grid-template-areas:\n    \"header\"\n    \"...\"\n    \"cover\"\n    \"loop-text\"\n    \"artist\"\n    \"...\"\n    \"progress-bar\"\n    \"controls\";\n  grid-template-rows: [start] 4.5rem 1fr min(80vw, 65vh) 3rem 1rem 2fr 2rem 5rem [end];\n  grid-template-columns: [start] 100% [end];\n  place-items: center;\n}\n\n/* header */\n.header {\n  grid-row: header;\n  width: 100%;\n  height: 2.5rem;\n  margin-top: env(safe-area-inset-top);\n  display: grid;\n  grid-template-rows: [start] 100% [end];\n  grid-template-columns:\n    [start back-start] 3rem [back-end title-start]\n    1fr [title-end] 3rem [end];\n  grid-auto-flow: column;\n  align-items: center;\n  justify-items: center;\n  user-select: none;\n}\n\n.title {\n  grid-row: start / end;\n  grid-column: title;\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n/* header */\n\n.cover {\n  grid-row: cover;\n  height: 100%;\n  box-shadow: 0 0 20px #00000030;\n  border-radius: 0.5rem;\n}\n\n/* song info */\n.song-name {\n  font-size: 1.2rem;\n  font-weight: bold;\n  line-height: 1.2rem;\n  height: 1.2rem;\n}\n\n.song-artist {\n  grid-row: artist;\n  grid-column: start / end;\n  font-size: 0.8rem;\n}\n/* song info */\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Radio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Radio.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Radio.vue?vue&type=template&id=43970ac7&scoped=true&\"\nimport script from \"./Radio.vue?vue&type=script&lang=js&\"\nexport * from \"./Radio.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Radio.vue?vue&type=style&index=0&id=43970ac7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"43970ac7\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayProgressBar.vue?vue&type=style&index=0&id=12d41a0a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PlayProgressBar.vue?vue&type=style&index=0&id=12d41a0a&scoped=true&lang=css&\""],"sourceRoot":""}