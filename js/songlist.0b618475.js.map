{"version":3,"sources":["webpack:///./src/components/AppLoadingIcon.vue?59f4","webpack:///./src/components/AppSongEntry.vue?12cd","webpack:///./src/components/AppBackButton.vue?81ae","webpack:///./src/views/SongList.vue?5f1b","webpack:///./src/views/SongList.vue?163c","webpack:///src/views/SongList.vue","webpack:///./src/views/SongList.vue?69c1","webpack:///./src/views/SongList.vue","webpack:///./src/components/AppLoadingIcon.vue?39fa","webpack:///./src/components/AppLoadingIcon.vue?8ed9","webpack:///./src/components/AppBackButton.vue?5108","webpack:///src/components/AppBackButton.vue","webpack:///./src/components/AppBackButton.vue?012c","webpack:///./src/components/AppBackButton.vue","webpack:///./src/assets/default-pic.jpg","webpack:///./src/components/AppSongEntry.vue?b8fe","webpack:///src/components/AppSongEntry.vue","webpack:///./src/components/AppSongEntry.vue?7c7e","webpack:///./src/components/AppSongEntry.vue","webpack:///./src/components/AppLoadingIcon.vue"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","attrs","staticClass","ref","style","class","type","_v","_s","title","_t","cover","_e","name","creator","description","dateString","on","playAll","_l","song","key","id","artist","album","data","loading","tags","list","props","computed","today","Date","hours","getHours","greetings","getMonth","getDate","bgStyle","components","AppBackButton","AppSongEntry","AppLoadingIcon","$refs","background","backgroundImage","scroll","refresh","disable","enable","destroy","watch","isLoading","$nextTick","methods","$router","push","$store","commit","songs","map","arString","ar","al","picUrl","replace","component","back","lastClick","event","now","console","log","lastRoute","getters","params","module","exports","play","songName","songInfoString","songAlbum","songArtist"],"mappings":"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","file":"js/songlist.0b618475.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"loading-spinner\"}},[_c('div',{staticClass:\"spinner-icon\"},[_c('div',{staticClass:\"bar bar-one\"}),_c('div',{staticClass:\"bar bar-two\"}),_c('div',{staticClass:\"bar bar-three\"}),_c('div',{staticClass:\"bar bar-four\"}),_c('div',{staticClass:\"bar bar-five\"}),_c('div',{staticClass:\"bar bar-six\"}),_c('div',{staticClass:\"bar bar-seven\"}),_c('div',{staticClass:\"bar bar-eight\"}),_c('div',{staticClass:\"bar bar-nine\"}),_c('div',{staticClass:\"bar bar-ten\"}),_c('div',{staticClass:\"bar bar-eleven\"}),_c('div',{staticClass:\"bar bar-twelve\"})])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSongEntry.vue?vue&type=style&index=0&id=05373035&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSongEntry.vue?vue&type=style&index=0&id=05373035&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=style&index=0&id=6986574d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=style&index=0&id=6986574d&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=style&index=0&id=65fa9e7d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=style&index=0&id=65fa9e7d&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"wrapper\",attrs:{\"id\":\"song-list\"}},[_c('div',{ref:\"backgroundBox\",staticClass:\"background-container\"},[_c('div',{ref:\"background\",staticClass:\"background fade-in\",style:(_vm.bgStyle)})]),_c('div',{class:['fixed-container', {'blur': _vm.type==='songlist'}]},[_c('div',{staticClass:\"header\"},[_c('app-back-button'),_c('div',{staticClass:\"title\"},[_vm._v(\" \"+_vm._s(_vm.title ? _vm.title : '歌单')+\" \")]),_c('div',{staticClass:\"right\"},[_vm._t(\"right\")],2)],1),_c('div',{ref:\"info\",staticClass:\"info\"},[(_vm.type==='songlist')?_c('div',{staticClass:\"cover\"},[_c('img',{staticClass:\"fade-in\",attrs:{\"src\":_vm.cover}})]):_vm._e(),(_vm.name)?_c('div',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(_vm.name)+\" \")]):_vm._e(),(_vm.creator)?_c('div',{staticClass:\"creator\"},[_vm._v(\" \"+_vm._s(_vm.creator)+\" \")]):_vm._e(),(_vm.description)?_c('div',{staticClass:\"description\"},[_vm._v(\" \"+_vm._s(_vm.description)+\" \")]):_vm._e(),(_vm.type==='recommendation')?_c('div',{staticClass:\"date\"},[_vm._v(\" \"+_vm._s(_vm.dateString)+\" \")]):_vm._e()]),_c('div',{staticClass:\"playall\",on:{\"tap\":_vm.playAll}},[_c('app-icon',{attrs:{\"icon\":\"play-circle\"}}),_c('span',[_vm._v(\"播放全部\")])],1)]),_c('div',{staticClass:\"list\"},[_c('div',{staticClass:\"placeholder\"}),(_vm.loading)?_c('app-loading-icon'):_vm._e(),_vm._l((_vm.list),function(song){return _c('app-song-entry',{key:song.id,staticClass:\"entry\",attrs:{\"songName\":song.name,\"songArtist\":song.artist,\"songId\":song.id,\"songAlbum\":song.album,\"songCover\":song.cover}})})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"song-list\" ref=\"wrapper\">\n    <div class=\"background-container\" ref=\"backgroundBox\">\n      <div\n        class=\"background fade-in\"\n        ref=\"background\"\n        :style=\"bgStyle\"\n      ></div>\n    </div>\n    <div :class=\"['fixed-container', {'blur': type==='songlist'}]\">\n\n      <div class=\"header\">\n        <app-back-button/>\n        <div class=\"title\">\n          {{ title ? title : '歌单' }}\n        </div>\n        <div class=\"right\">\n          <slot name=\"right\"></slot>\n        </div>\n      </div>\n\n      <div class=\"info\" ref=\"info\">\n        <div class=\"cover\" v-if=\"type==='songlist'\">\n          <img :src=\"cover\" class=\"fade-in\">\n        </div>\n        <div class=\"name\" v-if=\"name\">\n          {{ name }}\n        </div>\n        <div class=\"creator\" v-if=\"creator\">\n          {{ creator }}\n        </div>\n        <div class=\"description\" v-if=\"description\">\n          {{ description }}\n        </div>\n        <div class=\"date\" v-if=\"type==='recommendation'\">\n          {{ dateString }}\n        </div>\n      </div>\n\n      <div class=\"playall\" @tap=\"playAll\">\n        <app-icon icon=\"play-circle\"/>\n        <span>播放全部</span>\n      </div>\n    </div>\n\n    <div class=\"list\">\n      <div class=\"placeholder\"></div>\n      <app-loading-icon v-if=\"loading\"/>\n      <app-song-entry\n        v-for=\"song in list\"\n        class=\"entry\"\n        :key=\"song.id\"\n        :songName=\"song.name\"\n        :songArtist=\"song.artist\"\n        :songId=\"song.id\"\n        :songAlbum=\"song.album\"\n        :songCover=\"song.cover\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport AppBackButton from '@/components/AppBackButton.vue';\nimport AppSongEntry from '@/components/AppSongEntry.vue';\nimport AppLoadingIcon from '@/components/AppLoadingIcon';\nimport fetchJSON from '@/functions/fetchJSON.js';\nimport createScroll from '@/functions/createScroll.js';\nexport default {\n  name: 'songlist',\n  data: function() {\n    return {\n      loading: true,\n      title: '',\n      name: '',\n      creator: '',\n      description: '',\n      cover: require('@/assets/default-pic.jpg'),\n      tags: [],\n      list: []\n    };\n  },\n\n  props: ['type', 'listId'],\n\n  computed: {\n    dateString: function() {\n      const today = new Date();\n      const hours = today.getHours();\n      let greetings = '你好';\n      if (hours >= 6 && hours <= 12) {\n        greetings = '早上好';\n      } else if (hours >= 13 && hours <= 18) {\n        greetings = '下午好';\n      } else if (hours >= 19 && hours <= 24) {\n        greetings = '晚上好';\n      } else if (hours >= 0 && hours <= 5) {\n        greetings = '早点睡哦';\n      }\n      return `${today.getMonth()}月${today.getDate()}日，${greetings}`;\n    },\n\n    bgStyle: function() {\n      if (this.type === 'songlist') {\n        return `background-image:url(${this.cover})`;\n      } else {\n        return `background-image:linear-gradient( 135deg, #FEB692 10%, #EA5455 100%)`;\n      }\n    }\n  },\n\n  components: {\n    AppBackButton,\n    AppSongEntry,\n    AppLoadingIcon\n  },\n\n  created() {\n    if (this.type === 'recommendation') {\n      this.title = '每日推荐';\n      fetchJSON('/recommend/songs')\n        .then((res) => {\n          if (res.code === 200) {\n            this.createList(res.data.dailySongs);\n          }\n        });\n    } else if (this.type === 'songlist') {\n      fetchJSON('/playlist/detail', {id: this.listId})\n        .then((res) => {\n          if (res.code === 200) {\n            console.log(res);\n            this.name = res.playlist.name;\n            this.creator = res.playlist.creator.nickname;\n            this.description = res.playlist.description;\n            this.cover = res.playlist.coverImgUrl.replace('http:', 'https:');\n            this.tags = res.playlist.tags;\n            const ids = res.playlist.trackIds.map((item) => item.id).join(',');\n            this.createList(res.playlist.tracks);\n            if (res.playlist.tracks.length < res.playlist.trackCount) {\n              return fetchJSON('/song/detail', {ids: ids});\n            }\n          }\n        }).then((res) => {\n          if (res && res.code === 200) {\n            this.createList(res.songs);\n          }\n        });\n    }\n  },\n\n  mounted() {\n    if (!this.cover) {\n      this.$refs.background.style.backgroundImage =\n        'linear-gradient( 135deg, #FEB692 10%, #EA5455 100%)';\n    }\n  },\n\n  updated() {\n    if (this.scroll) {\n      this.scroll.refresh();\n    }\n  },\n\n  deactivated() {\n    this.scroll.disable();\n  },\n\n  activated() {\n    if (this.scroll) {\n      this.scroll.enable();\n    }\n  },\n\n  beforeDestroy() {\n    this.scroll.destroy();\n  },\n\n  watch: {\n    loading(isLoading) {\n      if (!isLoading) {\n        this.$nextTick()\n          .then(() => {\n            this.scroll = createScroll(2, this.$refs.wrapper, onScroll);\n            const self = this;\n            function onScroll(pos) {\n              const percentage = (-pos.y) / 200 < 1 ? (-pos.y) / 200 : 1;\n              self.$refs.info.style.opacity = `${1 - percentage}`;\n              self.$refs.info.style.height = `calc(12rem + (${pos.y}px))`;\n              self.$refs.backgroundBox.style.height = `calc(15rem + (${pos.y}px))`;\n              self.$refs.background.style.height = `calc(15rem + (${pos.y}px))`;\n            }\n          })\n          .catch((e) => {\n            console.log(e);\n          });\n      }\n    }\n  },\n\n  methods: {\n    playAll() {\n      this.$router.push('/play');\n      this.$store.commit('commonPlay/playTheList', this.list);\n    },\n\n    createList(songs) {\n      // extract useful information and map it to songList\n      this.list = songs.map((song) => {\n        const arString = song.ar.map((item) => item.name).join('/');\n        return {\n          id: song.id,\n          name: song.name,\n          artist: arString,\n          album: song.al.name,\n          cover: song.al.picUrl.replace('http:', 'https:')\n        };\n      });\n      this.loading = false;\n    }\n  }\n};\n</script>\n\n<style scoped>\n#song-list {\n  grid-column: start / end;\n  width: 100%;\n  height: calc(100vh - 2.5rem);\n  background-color: white;\n  position: relative;\n}\n\n.background-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: calc(15rem + env(safe-area-inset-top));\n  min-height: 3rem;\n  overflow: hidden;\n  z-index: 10;\n}\n\n.background {\n  background-color: #000;\n  background-position: center;\n  background-size: cover;\n  background-repeat: no-repeat;\n  transform: scale(1.1);\n  width: 100%;\n  height: 15rem;\n  min-height: 3rem;\n  overflow: hidden;\n}\n\n@supports not (backdrop-filter: blur(30px)) {\n  .background {\n    filter: brightness(0.2);\n  }\n}\n\n@supports (backdrop-filter: blur(30px)) {\n  .blur {\n    backdrop-filter: blur(30px);\n  }\n}\n\n/* fixed container */\n.fixed-container {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 20;\n  transform: translate3d(0px, 0px, 2px);\n  background-color: #00000010;\n  display: grid;\n  grid-template-rows:\n    [start header-start] min-content [header-end info-start]\n    min-content [info-end button-start] 3rem\n    [button-end end];\n  grid-template-columns: [start] 100% [end];\n}\n\n/* filter build another stack context, z-index is required */\n.header {\n  grid-row: header;\n  grid-column: start / end;\n  height: calc(3rem + env(safe-area-inset-top));\n  width: 100%;\n  display: grid;\n  grid-template-columns:\n    [back-start] 2rem [back-end title-start]\n    1fr [title-end right-start] 2rem [right-end];\n  grid-auto-flow: column;\n  place-items: center;\n  color: white;\n  user-select: none;\n  z-index: 10;\n}\n\n.title {\n  grid-row: title;\n  font-size: 1.2rem;\n  font-weight: bold;\n}\n\n.info {\n  grid-row: info;\n  grid-column: start / end;\n  z-index: 10;\n  height: 12rem;\n  width: 100%;\n  display: grid;\n  padding: 0 1rem;\n  box-sizing: border-box;\n  overflow: hidden;\n  grid-template-rows:\n    [start] 1fr [cover-start name-start]\n    min-content [name-end creator-start] 2rem\n    [creator-end des-start] 3rem [des-end]\n    min-content [cover-end] 1fr [end];\n  grid-template-columns:\n    [cover-start] min-content [cover-end info-start]\n    1fr [info-end];\n  gap: 0 1rem;\n  align-items: center;\n}\n\n.cover {\n  grid-row: cover;\n  grid-column: cover;\n  height: 8rem;\n  width: 8rem;\n  object-fit: cover;\n}\n\n.cover > img {\n  height: 100%;\n  width: 100%;\n  border-radius: 0.3rem;\n}\n\n.name {\n  grid-row: name;\n  grid-column: info;\n  font-size: 1rem;\n  font-weight: bold;\n  color: white;\n}\n\n.creator {\n  grid-row: creator;\n  grid-column: info;\n  font-size: 0.8rem;\n  color: #eee;\n}\n\n.description {\n  font-size: 0.7rem;\n  line-height: 1rem;\n  grid-row: des;\n  grid-column: info;\n  color: #eee;\n  overflow: hidden;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 3;\n}\n\n.date {\n  grid-row: span 1 / cover-end;\n  grid-column: info;\n  font-size: 1.5rem;\n  font-weight: bold;\n  color: white;\n}\n\n.playall {\n  background-color: white;\n  position: sticky;\n  grid-row: button;\n  grid-column: start / end;\n  height: 100%;\n  width: 100%;\n  display: grid;\n  grid-template-columns:\n    [icon-start] 2rem [icon-end text-start]\n    1fr [text-end];\n  padding: 0 1rem;\n  box-sizing: border-box;\n  border-bottom: 1px solid #eee;\n  align-items: center;\n  font-size: 1rem;\n}\n/* fixed container */\n\n/* list */\n.list {\n  min-height: 101%;\n  width: 100%;\n  box-sizing: border-box;\n  padding: 0 0.5rem;\n  padding-top: env(safe-area-inset-top);\n  display: grid;\n  grid-template-rows: [placeholder-start] min-content [placeholder-end];\n  grid-auto-rows: 3rem;\n  grid-template-columns: [start] 100% [end];\n}\n\n.placeholder {\n  height: 18rem;\n  width: 100%;\n  grid-row: placeholder;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SongList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SongList.vue?vue&type=template&id=65fa9e7d&scoped=true&\"\nimport script from \"./SongList.vue?vue&type=script&lang=js&\"\nexport * from \"./SongList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SongList.vue?vue&type=style&index=0&id=65fa9e7d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"65fa9e7d\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLoadingIcon.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLoadingIcon.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLoadingIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLoadingIcon.vue?vue&type=script&lang=js&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-back-button\",on:{\"tap\":_vm.back,\"click\":_vm.back}},[_c('app-icon',{attrs:{\"icon\":\"go-back\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-back-button\" @tap=\"back\" @click=\"back\">\n    <app-icon icon=\"go-back\" />\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      lastClick: 0\n    };\n  },\n\n  methods: {\n    back(event) {\n      // avoid duplicate click fired by both click and tap\n      if (Date.now() - this.lastClick < 100) {\n        console.log('duplicate click');\n        return;\n      }\n      this.lastClick = Date.now();\n      const lastRoute = this.$store.getters['routeHistory/lastRoute'];\n      if (lastRoute) {\n        this.$router.push({\n          name: lastRoute,\n          params: {\n            back: true\n          }\n        });\n      } else {\n        this.$router.push({\n          name: 'discover',\n          params: {\n            back: true\n          }\n        });\n      }\n    }\n  }\n};\n</script>\n\n<style scoped>\n.app-back-button {\n  grid-column: back;\n  grid-row: start / end;\n  cursor: pointer;\n  width: 2rem;\n  height: 2rem;\n  font-size: 1.5rem;\n  display: grid;\n  align-items: center;\n  justify-items: center;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBackButton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppBackButton.vue?vue&type=template&id=6986574d&scoped=true&\"\nimport script from \"./AppBackButton.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBackButton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppBackButton.vue?vue&type=style&index=0&id=6986574d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6986574d\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/default-pic.5cfc656e.jpg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-song-entry\",on:{\"click\":_vm.play,\"tap\":_vm.play}},[_c('span',{staticClass:\"name\"},[_vm._v(\" \"+_vm._s(_vm.songName)+\" \")]),_c('span',{staticClass:\"info\"},[_vm._v(\" \"+_vm._s(_vm.songInfoString)+\" \")]),_vm._t(\"count\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-song-entry\" @click=\"play\" @tap=\"play\">\n    <span class=\"name\">\n      {{ songName }}\n    </span>\n    <span class=\"info\">\n      {{ songInfoString }}\n    </span>\n    <slot name=\"count\"></slot>\n  </div>\n</template>\n\n<script>\nimport fetchJSON from '@/functions/fetchJSON.js';\nexport default {\n  data() {\n    return {\n      lastClick: 0\n    };\n  },\n  props: ['songName', 'songArtist', 'songAlbum', 'songId', 'songCover'],\n  computed: {\n    songInfoString: function() {\n      if (this.songAlbum) {\n        return this.songArtist + ' - ' + this.songAlbum;\n      } else {\n        return this.songArtist;\n      }\n    }\n  },\n  methods: {\n    play() {\n      // avoid duplicate click fired by both click and tap\n      if (Date.now() - this.lastClick < 100) {\n        return;\n      }\n      this.lastClick = Date.now();\n      fetchJSON('/check/music', {id: this.songId})\n        .then((result) => {\n          console.log(result);\n          if (result.success) {\n            this.$store.commit('commonPlay/addToPlay', {\n              id: this.songId,\n              name: this.songName,\n              artist: this.songArtist,\n              album: this.songAlbum,\n              cover: this.songCover.replace('http:', 'https:')\n            });\n            this.$router.push('/play');\n          } else {\n            alert('这首歌暂无版权');\n          }\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.app-song-entry {\n  width: 100%;\n  height: 100%;\n  padding: 0.3rem 1rem;\n  box-sizing: border-box;\n  display: grid;\n  grid-template-rows: [start name-start] 1.2fr [name-end info-start] 1fr [info-end end];\n  grid-template-columns: [info-start] 1fr [info-end count-start] max-content [count-end];\n  justify-items: start;\n  border-bottom: 1px solid #eee;\n  cursor: pointer;\n}\n\n.name {\n  width: 100%;\n  height: 100%;\n  grid-row: name;\n  grid-column: info;\n  font-size: 1rem;\n  color: black;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.info {\n  width: 100%;\n  height: 100%;\n  grid-row: info;\n  grid-column: info;\n  font-size: 0.8rem;\n  color: #666;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.count {\n  grid-row: start / end;\n  grid-column: count;\n  height: 100%;\n  justify-self: end;\n  font-size: 0.8rem;\n  color: #666;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSongEntry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppSongEntry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppSongEntry.vue?vue&type=template&id=05373035&scoped=true&\"\nimport script from \"./AppSongEntry.vue?vue&type=script&lang=js&\"\nexport * from \"./AppSongEntry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppSongEntry.vue?vue&type=style&index=0&id=05373035&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05373035\",\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./AppLoadingIcon.vue?vue&type=template&id=f8b691de&\"\nimport script from \"./AppLoadingIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./AppLoadingIcon.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AppLoadingIcon.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}